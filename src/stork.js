export const stork=function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";function r(e){const t=n.p;let r="";return(!t||t.indexOf("://")<0)&&(r+=window.location.protocol+"//"+window.location.host),r+=t||"/",r+e}let s;n.r(t),n.d(t,"wasm_register_index",(function(){return v})),n.d(t,"wasm_search",(function(){return w}));const o=new Array(32).fill(void 0);function i(e){return o[e]}o.push(void 0,null,!0,!1);let l=o.length;function a(e){const t=i(e);return function(e){e<36||(o[e]=l,l=e)}(e),t}let u=0,c=null;function h(){return null!==c&&c.buffer===s.memory.buffer||(c=new Uint8Array(s.memory.buffer)),c}let d=new TextEncoder("utf-8");const f="function"==typeof d.encodeInto?function(e,t){return d.encodeInto(e,t)}:function(e,t){const n=d.encode(e);return t.set(n),{read:e.length,written:n.length}};function g(e,t,n){if(void 0===n){const n=d.encode(e),r=t(n.length);return h().subarray(r,r+n.length).set(n),u=n.length,r}let r=e.length,s=t(r);const o=h();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[s+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),s=n(s,r,r=i+3*e.length);const t=h().subarray(s+i,s+r);i+=f(e,t).written}return u=i,s}let p=null;function m(){return null!==p&&p.buffer===s.memory.buffer||(p=new Int32Array(s.memory.buffer)),p}let y=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function b(e,t){return y.decode(h().subarray(e,e+t))}function v(e,t){try{const c=s.__wbindgen_export_0.value-16;s.__wbindgen_export_0.value=c;var n=g(e,s.__wbindgen_malloc,s.__wbindgen_realloc),r=u,o=function(e,t){const n=t(1*e.length);return h().set(e,n/1),u=e.length,n}(t,s.__wbindgen_malloc),i=u;s.wasm_register_index(c,n,r,o,i);var l=m()[c/4+0],a=m()[c/4+1];return b(l,a)}finally{s.__wbindgen_export_0.value+=16,s.__wbindgen_free(l,a)}}function w(e,t){try{const c=s.__wbindgen_export_0.value-16;s.__wbindgen_export_0.value=c;var n=g(e,s.__wbindgen_malloc,s.__wbindgen_realloc),r=u,o=g(t,s.__wbindgen_malloc,s.__wbindgen_realloc),i=u;s.wasm_search(c,n,r,o,i);var l=m()[c/4+0],a=m()[c/4+1];return b(l,a)}finally{s.__wbindgen_export_0.value+=16,s.__wbindgen_free(l,a)}}y.decode(),t.default=async function e(t){void 0===t&&(t=r("node_modules/stork-search/stork.js").replace(/\.js$/,"_bg.wasm"));const n={wbg:{}};n.wbg.__wbg_new_59cb74e423758ede=function(){return function(e){l===o.length&&o.push(o.length+1);const t=l;return l=o[t],o[t]=e,t}(new Error)},n.wbg.__wbg_stack_558ba5917b466edd=function(e,t){var n=g(i(t).stack,s.__wbindgen_malloc,s.__wbindgen_realloc),r=u;m()[e/4+1]=r,m()[e/4+0]=n},n.wbg.__wbg_error_4bb6c2a97407129a=function(e,t){try{console.error(b(e,t))}finally{s.__wbindgen_free(e,t)}},n.wbg.__wbindgen_object_drop_ref=function(e){a(e)},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:c,module:h}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,n);return s=c.exports,e.__wbindgen_wasm_module=h,s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig={showProgress:!0,printIndexInfo:!1,showScores:!1,minimumQueryLength:3,onQueryUpdate:void 0,onResultSelected:void 0},t.calculateOverriddenConfig=function(e){for(var n=Object.assign({},t.defaultConfig),r=0,s=Object.keys(t.defaultConfig);r<s.length;r++){var o=s[r],i=e[o];void 0!==i&&(n[o]=i)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToElement=function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild},t.difference=function(e,t){var n=new Set(e),r=new Set(t),s=new Set(Array.from(n).filter((function(e){return!r.has(e)})));return Array.from(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(6);t.loadWasm=function(){var e=new s.default;return r.default("stork.wasm").then((function(){e.loaded=!0,e.handleWasmLoad()})),e}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),o=n(1),i=n(13),l=n(0),a=function(){function e(e){this.entities=[],this.wasmQueue=e}return e.prototype.handleLoadedIndex=function(e,t){var n=t.target,s=n.status,o=n.response;if(s<200||s>299)throw e.setDownloadError(),new Error("Got a "+s+" error from "+e.url+"!");this.wasmQueue.runAfterWasmLoaded((function(){if(!e.error){var t=l.wasm_register_index(e.name,new Uint8Array(o));e.setDownloadProgress(1),e.performSearch(e.domManager.getQuery()),e.config.printIndexInfo&&console.log(r({name:e.name,sizeInBytes:o.byteLength},JSON.parse(t)))}}))},e.prototype.register=function(e,t,n){var r=this,l=o.calculateOverriddenConfig(n),a=new s.Entity(e,t,l,this.wasmQueue);this.entities.length<1&&this.entities.push(a),i.loadIndexFromUrl(a,t,{load:function(e){return r.handleLoadedIndex(a,e)},progress:function(e,t){t.setDownloadProgress(e)},error:function(){a.setDownloadError()}})},e}();t.EntityManager=a},function(e,t,n){"use strict";n.r(t),n.d(t,"register",(function(){return u}));var r=n(2),s=n(1),o=n(3),i=n(4);const l=Object(o.loadWasm)(),a=new i.EntityManager(l);function u(e,t,n={}){if("string"!=typeof e)throw new Error("Index registration name must be a string.");if("string"!=typeof t)throw new Error("URL must be a string.");let o=Object(r.difference)(Object.keys(n),Object.keys(s.defaultConfig));if(o.size>0)throw new Error(`Invalid key${o>1?"s":""} in config object: ${JSON.stringify(Array.from(o))}`);a.register(e,t,n)}t.default={register:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.loaded=!1,this.queue=[]}return e.prototype.runAfterWasmLoaded=function(e){this.loaded?e():this.queue.push(e)},e.prototype.handleWasmLoad=function(){for(var e=0,t=this.queue;e<t.length;e++){(0,t[e])()}this.queue=[]},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),s=n(9),o=function(){function e(e,t,n,r){this.results=[],this.highlightedResult=0,this.progress=0,this.error=!1,this.totalResultCount=0,this.resultsVisible=!1,this.hoverSelectEnabled=!0,this.name=e,this.url=t,this.config=n,this.wasmQueue=r,this.domManager=new s.EntityDom(e,this)}return e.prototype.getCurrentMessage=function(){var e=this.domManager.getQuery();return this.error?"Error! Check the browser console.":this.progress<1||!this.wasmQueue.loaded?"Loading...":(null==e?void 0:e.length)<this.config.minimumQueryLength?"Filtering...":this.results?0===this.totalResultCount?"No files found.":1===this.totalResultCount?"1 file found.":this.totalResultCount+" files found.":null},e.prototype.generateRenderConfig=function(){return{results:this.results,resultsVisible:!0,showScores:this.config.showScores,message:this.getCurrentMessage(),showProgress:this.config.showProgress,progress:this.progress,error:this.error}},e.prototype.render=function(){this.domManager.render(this.generateRenderConfig())},e.prototype.injestSearchData=function(e){this.results=e.results,this.totalResultCount=e.total_hit_count,this.highlightedResult=0;var t=e.url_prefix||"";this.results.map((function(e){var n="";e.excerpts&&e.excerpts[0]&&e.excerpts[0].internal_annotations&&e.excerpts[0].internal_annotations[0]&&e.excerpts[0].internal_annotations[0].a&&"string"==typeof e.excerpts[0].internal_annotations[0].a&&(n=e.excerpts[0].internal_annotations[0].a),e.entry.url=""+t+e.entry.url+n})),this.render()},e.prototype.getSanitizedResults=function(){var e=this.results;return e.map((function(e){delete e.title_highlight_ranges,e.excerpts.map((function(e){delete e.highlight_ranges,delete e.internal_annotations}))})),e},e.prototype.setDownloadProgress=function(e){this.error=!1,this.progress=e,this.config.showProgress&&this.render()},e.prototype.setDownloadError=function(){this.progress=1,this.error=!0,this.render()},e.prototype.performSearch=function(e){var t=this;this.wasmQueue.loaded&&!this.error?e.length>=this.config.minimumQueryLength?r.resolveSearch(this.name,e).then((function(n){n&&(t.injestSearchData(n),t.config.onQueryUpdate&&t.config.onQueryUpdate(e,t.getSanitizedResults()))})).catch((function(e){console.error(e)})):(this.results=[],this.render()):this.render()},e}();t.Entity=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{a(r.next(e))}catch(e){o(e)}}function l(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(s=i.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.resolveSearch=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return s(this,(function(s){n=null,r=null;try{n=o.wasm_search(e,t),r=JSON.parse(n)}catch(e){throw Error("Could not parse data from wasm_search. If you see this, please file a bug: https://jil.im/storkbug "+n)}if(!r)throw Error("Data was an empty object");if(r.error)throw Error("Could not perform search: the WASM binary failed to return search results.\n    You might not be serving your search index properly.\n    If you think this is an error, please file a bug: https://jil.im/storkbug\n    \n    The WASM binary came back with:\n    "+r.error);return[2,r]}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),s=n(11),o={results:[],resultsVisible:!1,showScores:!1,message:null,showProgress:!1,progress:1,error:!1},i=function(){function e(e,t){var n,s,i=this;this.scrollAnchorPoint="end",this.entity=t;var l=[{selector:'input[data-stork="'+e+'"]',elementName:"input"},{selector:'div[data-stork="'+e+'-output"]',elementName:"output"}].map((function(t){var n=document.querySelector(t.selector);if(!n)throw new Error('Could not register search box "'+e+'": '+t.elementName+" element not found. Make sure an element matches the query selector `"+t.selector+"`");return n})),a=l[0],u=l[1];this.elements={input:a,output:u,list:r.create("ul",{classNames:["stork-results"]}),attribution:r.create("div",{classNames:["stork-attribution"]}),progress:r.create("div",{classNames:["stork-progress"]}),message:r.create("div",{classNames:["stork-message"]}),closeButton:r.create("button",{classNames:["stork-close-button"]})},this.elements.input.addEventListener("input",(function(e){i.handleInputEvent(e)})),this.elements.input.addEventListener("keydown",(function(e){i.handleKeyDownEvent(e)})),null===(n=this.elements.list)||void 0===n||n.addEventListener("mousemove",(function(){i.hoverSelectEnabled=!0})),this.elements.attribution.innerHTML='Powered by <a href="https://stork-search.net">Stork</a>',r.setText(this.elements.closeButton,"×"),r.add(this.elements.progress,"afterend",this.elements.input),null===(s=this.elements.closeButton)||void 0===s||s.addEventListener("click",(function(){i.elements.input.value="",i.elements.input.focus(),i.render(o)}))}return e.prototype.clearDom=function(){var e;r.clear(this.elements.output),r.clear(this.elements.list),null===(e=this.elements.closeButton)||void 0===e||e.remove(),this.elements.output.classList.remove("stork-output-visible")},e.prototype.render=function(e){var t,n=this,o=this.elements.input.value;if(this.clearDom(),this.lastRenderState=e,e.showProgress&&e.progress&&e.progress<1?this.elements.progress.style.width=100*e.progress+"%":e.showProgress&&(this.elements.progress.style.width="100%",this.elements.progress.style.opacity="0"),e.error&&this.elements.input.classList.add("stork-error"),this.getQuery().length>0&&e.resultsVisible&&(this.elements.output.classList.add("stork-output-visible"),r.add(this.elements.message,"beforeend",this.elements.output)),e.message&&r.setText(this.elements.message,e.message),(null===(t=e.results)||void 0===t?void 0:t.length)>0&&e.resultsVisible){r.add(this.elements.list,"beforeend",this.elements.output);for(var i=function(t){var o=e.results[t],i={selected:t===l.highlightedResult,showScores:e.showScores},a=s.resultToListItem(o,i);r.add(a,"beforeend",l.elements.list),a.addEventListener("mousemove",(function(){n.hoverSelectEnabled&&t!==n.highlightedResult&&n.changeHighlightedResult({to:t,shouldScrollTo:!1})})),a.addEventListener("click",(function(e){e.preventDefault(),n.selectResult()}))},l=this,a=0;a<e.results.length;a++)i(a);r.add(this.elements.attribution,"beforeend",this.elements.output)}((null==o?void 0:o.length)||0)>0&&r.add(this.elements.closeButton,"afterend",this.elements.input)},e.prototype.selectResult=function(){if(null!=this.highlightedResult){var e=this.entity.results[this.highlightedResult];this.entity.config.onResultSelected?Promise.resolve(this.entity.config.onResultSelected(this.getQuery(),e)).finally((function(){window.location.assign(e.entry.url)})):window.location.assign(e.entry.url)}},e.prototype.changeHighlightedResult=function(e){var t,n=this.highlightedResult,s=Math.max(0,Math.min(this.entity.results.length-1,e.to));this.highlightedResult=s,this.scrollAnchorPoint=(n||0)<s?"end":"start";for(var o=null,i=0;i<this.entity.results.length;i++){var l=null===(t=this.elements.list)||void 0===t?void 0:t.children[i];if(l){i==s?(l.classList.add("selected"),o=l):l.classList.remove("selected")}}return e.shouldScrollTo&&(this.hoverSelectEnabled=!1,o&&r.existsBeyondContainerBounds(o,this.elements.list)&&o.scrollIntoView({behavior:"smooth",block:this.scrollAnchorPoint,inline:"nearest"})),s},e.prototype.handleKeyDownEvent=function(e){switch(e.keyCode){case 40:if(null==this.highlightedResult)this.changeHighlightedResult({to:0,shouldScrollTo:!0});else{var t=Math.min(this.highlightedResult+1,this.entity.results.length-1);this.changeHighlightedResult({to:t,shouldScrollTo:!0})}break;case 38:if(null!=this.highlightedResult){t=Math.max(0,this.highlightedResult-1);this.changeHighlightedResult({to:t,shouldScrollTo:!0})}break;case 13:this.selectResult();break;case 27:this.lastRenderState.resultsVisible||(this.elements.input.value=""),this.render(o);break;default:return}},e.prototype.handleInputEvent=function(e){this.entity.performSearch(e.target.value)},e.prototype.getQuery=function(){return this.elements.input.value},e}();t.EntityDom=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){var n=document.createElement(e);return t.classNames&&n.setAttribute("class",t.classNames.join(" ")),n},t.add=function(e,t,n){n.insertAdjacentElement(t,e)},t.clear=function(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)},t.setText=function(e,t){var n=document.createTextNode(t);e&&e.firstChild?e.replaceChild(n,e.firstChild):e&&e.appendChild(n)},t.existsBeyondContainerBounds=function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.bottom>r.bottom||n.top<r.top}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.resultToListItem=function(e,t){var n=document.createElement("template");return n.innerHTML='\n<li class="stork-result'+(t.selected?" selected":"")+'">\n  <a href="'+e.entry.url+'">\n    <div style="display: flex; justify-content: space-between">\n      <p class="stork-title">'+r.highlight(e.entry.title,e.title_highlight_ranges)+"</p>\n      "+(t.showScores?"<code><b>"+e.score+"</b></code>":"")+"\n    </div>\n      "+e.excerpts.map((function(e){return'<div style="display: flex; justify-content: space-between"><p class="stork-excerpt">\n        ...'+r.highlight(e.text,e.highlight_ranges)+"...\n        </p>\n        "+(t.showScores?"<code>"+e.score+"</code>":"")+"\n        </div>"})).join("")+"\n  </a>\n</li>",n.content.firstElementChild}},function(e,t,n){"use strict";function r(e,t){function n(e,t,n){return e.substr(0,t)+n+e.substr(t)}var r=0;for(let s of t){let t='<span class="stork-highlight">',o="</span>";e=n(e,s.beginning+r,t),r+=t.length,e=n(e,s.end+r,o),r+=o.length}return e}n.r(t),n.d(t,"highlight",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loadIndexFromUrl=function(e,t,n){var r=new XMLHttpRequest;r.addEventListener("load",(function(t){n.load&&n.load(t,e)})),r.addEventListener("error",(function(){console.error("Could not fetch "+t),n.error()})),r.addEventListener("progress",(function(t){if(n.progress){var r=Math.min(Math.max(.03,t.loaded/t.total),.94);n.progress(r,e)}})),n.progress&&n.progress(.03,e),r.responseType="arraybuffer",r.open("GET",t),r.send()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdG9yay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zdG9yay8uL25vZGVfbW9kdWxlcy9zdG9yay1zZWFyY2gvc3RvcmsuanMiLCJ3ZWJwYWNrOi8vc3RvcmsvLi9qcy9jb25maWcudHMiLCJ3ZWJwYWNrOi8vc3RvcmsvLi9qcy91dGlsLnRzIiwid2VicGFjazovL3N0b3JrLy4vanMvd2FzbUxvYWRlci50cyIsIndlYnBhY2s6Ly9zdG9yay8uL2pzL2VudGl0eU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vc3RvcmsvLi9qcy9tYWluLmpzIiwid2VicGFjazovL3N0b3JrLy4vanMvd2FzbVF1ZXVlLnRzIiwid2VicGFjazovL3N0b3JrLy4vanMvZW50aXR5LnRzIiwid2VicGFjazovL3N0b3JrLy4vanMvc2VhcmNoRGF0YS50cyIsIndlYnBhY2s6Ly9zdG9yay8uL2pzL2VudGl0eURvbS50cyIsIndlYnBhY2s6Ly9zdG9yay8uL2pzL2RvbS50cyIsIndlYnBhY2s6Ly9zdG9yay8uL2pzL3Jlc3VsdFRvTGlzdEl0ZW0udHMiLCJ3ZWJwYWNrOi8vc3RvcmsvLi9qcy9wZW5jaWwuanMiLCJ3ZWJwYWNrOi8vc3RvcmsvLi9qcy9pbmRleExvYWRlci50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdldEFic29sdXRlVXJsIiwicmVsYXRpdmVVcmwiLCJwdWJsaWNQYXRoIiwidXJsIiwiaW5kZXhPZiIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0Iiwid2FzbSIsImhlYXAiLCJBcnJheSIsImZpbGwiLCJ1bmRlZmluZWQiLCJnZXRPYmplY3QiLCJpZHgiLCJwdXNoIiwiaGVhcF9uZXh0IiwibGVuZ3RoIiwidGFrZU9iamVjdCIsInJldCIsImRyb3BPYmplY3QiLCJXQVNNX1ZFQ1RPUl9MRU4iLCJjYWNoZWdldFVpbnQ4TWVtb3J5MCIsImdldFVpbnQ4TWVtb3J5MCIsImJ1ZmZlciIsIm1lbW9yeSIsIlVpbnQ4QXJyYXkiLCJjYWNoZWRUZXh0RW5jb2RlciIsIlRleHRFbmNvZGVyIiwiZW5jb2RlU3RyaW5nIiwiZW5jb2RlSW50byIsImFyZyIsInZpZXciLCJidWYiLCJlbmNvZGUiLCJzZXQiLCJyZWFkIiwid3JpdHRlbiIsInBhc3NTdHJpbmdUb1dhc20wIiwibWFsbG9jIiwicmVhbGxvYyIsInB0ciIsInN1YmFycmF5IiwibGVuIiwibWVtIiwib2Zmc2V0IiwiY29kZSIsImNoYXJDb2RlQXQiLCJzbGljZSIsImNhY2hlZ2V0SW50MzJNZW1vcnkwIiwiZ2V0SW50MzJNZW1vcnkwIiwiSW50MzJBcnJheSIsImNhY2hlZFRleHREZWNvZGVyIiwiVGV4dERlY29kZXIiLCJpZ25vcmVCT00iLCJmYXRhbCIsImdldFN0cmluZ0Zyb21XYXNtMCIsImRlY29kZSIsIndhc21fcmVnaXN0ZXJfaW5kZXgiLCJkYXRhIiwicmV0cHRyIiwiX193YmluZGdlbl9leHBvcnRfMCIsInB0cjAiLCJfX3diaW5kZ2VuX21hbGxvYyIsIl9fd2JpbmRnZW5fcmVhbGxvYyIsImxlbjAiLCJwdHIxIiwicGFzc0FycmF5OFRvV2FzbTAiLCJsZW4xIiwicjAiLCJyMSIsIl9fd2JpbmRnZW5fZnJlZSIsIndhc21fc2VhcmNoIiwicXVlcnkiLCJhc3luYyIsImluaXQiLCJpbnB1dCIsInJlcGxhY2UiLCJpbXBvcnRzIiwid2JnIiwiX193YmdfbmV3XzU5Y2I3NGU0MjM3NThlZGUiLCJvYmoiLCJhZGRIZWFwT2JqZWN0IiwiRXJyb3IiLCJfX3diZ19zdGFja181NThiYTU5MTdiNDY2ZWRkIiwiYXJnMCIsImFyZzEiLCJzdGFjayIsIl9fd2JnX2Vycm9yXzRiYjZjMmE5NzQwNzEyOWEiLCJjb25zb2xlIiwiZXJyb3IiLCJfX3diaW5kZ2VuX29iamVjdF9kcm9wX3JlZiIsIlJlcXVlc3QiLCJVUkwiLCJmZXRjaCIsImluc3RhbmNlIiwiUmVzcG9uc2UiLCJXZWJBc3NlbWJseSIsImluc3RhbnRpYXRlU3RyZWFtaW5nIiwiZSIsImhlYWRlcnMiLCJ3YXJuIiwiYnl0ZXMiLCJhcnJheUJ1ZmZlciIsImluc3RhbnRpYXRlIiwiSW5zdGFuY2UiLCJsb2FkIiwiX193YmluZGdlbl93YXNtX21vZHVsZSIsImRlZmF1bHRDb25maWciLCJzaG93UHJvZ3Jlc3MiLCJwcmludEluZGV4SW5mbyIsInNob3dTY29yZXMiLCJtaW5pbXVtUXVlcnlMZW5ndGgiLCJvblF1ZXJ5VXBkYXRlIiwib25SZXN1bHRTZWxlY3RlZCIsIm92ZXJyaWRlcyIsIm91dHB1dCIsImFzc2lnbiIsImtleXMiLCJvdmVycmlkZVZhbCIsImh0bWwiLCJ0ZW1wbGF0ZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInRyaW0iLCJpbm5lckhUTUwiLCJjb250ZW50IiwiZmlyc3RDaGlsZCIsImFycjEiLCJhcnIyIiwic2V0MSIsIlNldCIsInNldDIiLCJkaWZmIiwiZnJvbSIsImZpbHRlciIsIngiLCJoYXMiLCJxdWV1ZSIsInRoZW4iLCJsb2FkZWQiLCJoYW5kbGVXYXNtTG9hZCIsIndhc21RdWV1ZSIsImVudGl0aWVzIiwidGhpcyIsImhhbmRsZUxvYWRlZEluZGV4IiwiZW50aXR5IiwiZXZlbnQiLCJzdGF0dXMiLCJyZXNwb25zZSIsInNldERvd25sb2FkRXJyb3IiLCJydW5BZnRlcldhc21Mb2FkZWQiLCJpbmRleEluZm8iLCJzZXREb3dubG9hZFByb2dyZXNzIiwicGVyZm9ybVNlYXJjaCIsImRvbU1hbmFnZXIiLCJnZXRRdWVyeSIsImNvbmZpZyIsImxvZyIsInNpemVJbkJ5dGVzIiwiYnl0ZUxlbmd0aCIsIkpTT04iLCJwYXJzZSIsInJlZ2lzdGVyIiwiZnVsbENvbmZpZyIsImNhbGN1bGF0ZU92ZXJyaWRkZW5Db25maWciLCJFbnRpdHkiLCJsb2FkSW5kZXhGcm9tVXJsIiwicHJvZ3Jlc3MiLCJFbnRpdHlNYW5hZ2VyIiwiZW50aXR5TWFuYWdlciIsImNvbmZpZ0tleURpZmYiLCJzaXplIiwic3RyaW5naWZ5IiwiZm4iLCJyZXN1bHRzIiwiaGlnaGxpZ2h0ZWRSZXN1bHQiLCJ0b3RhbFJlc3VsdENvdW50IiwicmVzdWx0c1Zpc2libGUiLCJob3ZlclNlbGVjdEVuYWJsZWQiLCJFbnRpdHlEb20iLCJnZXRDdXJyZW50TWVzc2FnZSIsImdlbmVyYXRlUmVuZGVyQ29uZmlnIiwibWVzc2FnZSIsInJlbmRlciIsImluamVzdFNlYXJjaERhdGEiLCJ0b3RhbF9oaXRfY291bnQiLCJ1cmxQcmVmaXgiLCJ1cmxfcHJlZml4IiwibWFwIiwidXJsU3VmZml4IiwiZXhjZXJwdHMiLCJpbnRlcm5hbF9hbm5vdGF0aW9ucyIsImVudHJ5IiwiZ2V0U2FuaXRpemVkUmVzdWx0cyIsInJlc3VsdCIsInRpdGxlX2hpZ2hsaWdodF9yYW5nZXMiLCJleGNlcnB0IiwiaGlnaGxpZ2h0X3JhbmdlcyIsInBlcmNlbnRhZ2UiLCJyZXNvbHZlU2VhcmNoIiwiY2F0Y2giLCJzZWFyY2hPdXRwdXQiLCJoaWRkZW5JbnRlcmZhY2VSZW5kZXJTdGF0ZSIsInNjcm9sbEFuY2hvclBvaW50Iiwic2VsZWN0b3IiLCJlbGVtZW50TmFtZSIsImVsZW1lbnRzIiwibGlzdCIsImNsYXNzTmFtZXMiLCJhdHRyaWJ1dGlvbiIsImNsb3NlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUlucHV0RXZlbnQiLCJoYW5kbGVLZXlEb3duRXZlbnQiLCJzZXRUZXh0IiwiYWRkIiwiZm9jdXMiLCJjbGVhckRvbSIsImNsZWFyIiwicmVtb3ZlIiwiY2xhc3NMaXN0Iiwic3RhdGUiLCJsYXN0UmVuZGVyU3RhdGUiLCJzdHlsZSIsIndpZHRoIiwib3BhY2l0eSIsImdlbmVyYXRlT3B0aW9ucyIsInNlbGVjdGVkIiwibGlzdEl0ZW0iLCJyZXN1bHRUb0xpc3RJdGVtIiwiY2hhbmdlSGlnaGxpZ2h0ZWRSZXN1bHQiLCJ0byIsInNob3VsZFNjcm9sbFRvIiwicHJldmVudERlZmF1bHQiLCJzZWxlY3RSZXN1bHQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImZpbmFsbHkiLCJvcHRpb25zIiwicHJldmlvdXNWYWx1ZSIsInJlc29sdmVkSWR4IiwiTWF0aCIsIm1heCIsIm1pbiIsInRhcmdldEZvclNjcm9sbFRvIiwiZWxlbWVudCIsImNoaWxkcmVuIiwiZXhpc3RzQmV5b25kQ29udGFpbmVyQm91bmRzIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwiaW5saW5lIiwia2V5Q29kZSIsInRhcmdldCIsImF0dHJpYnV0ZXMiLCJlbGVtIiwic2V0QXR0cmlidXRlIiwiam9pbiIsInJlZmVyZW5jZSIsImluc2VydEFkamFjZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwidGV4dCIsInRleHROb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsImNvbnRhaW5lciIsImVsZW1Cb3VuZGluZ0JveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNvbnRhaW5lckJvdW5kaW5nQm94IiwiYm90dG9tIiwidG9wIiwiaGlnaGxpZ2h0IiwidGl0bGUiLCJzY29yZSIsImZpcnN0RWxlbWVudENoaWxkIiwiaW5zZXJ0Iiwic3RyIiwiaW5kZXgiLCJzdWJzdHIiLCJjaGFyYWN0ZXJzQWxyZWFkeUFkZGVkIiwicmFuZ2UiLCJiZWdpbm5pbmdJbnNlcnRpb24iLCJlbmRJbnNlcnRpb24iLCJiZWdpbm5pbmciLCJlbmQiLCJjYWxsYmFja3MiLCJYTUxIdHRwUmVxdWVzdCIsImxvYWRlZFBlcmNlbnRhZ2UiLCJ0b3RhbCIsInJlc3BvbnNlVHlwZSIsIm9wZW4iLCJzZW5kIl0sIm1hcHBpbmdzIjoic0JBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3JCLEVBQW9CVSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSekIsRUFBb0I2QixFQUFJLFNBQVMxQixHQUNoQyxJQUFJUyxFQUFTVCxHQUFVQSxFQUFPcUIsV0FDN0IsV0FBd0IsT0FBT3JCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFILEVBQW9CVSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSWixFQUFvQmEsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekcvQixFQUFvQmtDLEVBQUksR0FJakJsQyxFQUFvQkEsRUFBb0JtQyxFQUFJLEcsK0JDakYvQyxTQUFTQyxFQUFlQyxHQUN0QixNQUFNQyxFQUFhLElBRW5CLElBQUlDLEVBQU0sR0FZVixRQVZLRCxHQUFjQSxFQUFXRSxRQUFRLE9BQVMsS0FDN0NELEdBQU9FLE9BQU9DLFNBQVNDLFNBQVcsS0FBT0YsT0FBT0MsU0FBU0UsTUFJekRMLEdBREVELEdBR0ssSUFHRkMsRUFBTUYsRUFHckIsSUFBSVEsRSx1R0FFSixNQUFNQyxFQUFPLElBQUlDLE1BQU0sSUFBSUMsVUFBS0MsR0FJaEMsU0FBU0MsRUFBVUMsR0FBTyxPQUFPTCxFQUFLSyxHQUZ0Q0wsRUFBS00sVUFBS0gsRUFBVyxNQUFNLEdBQU0sR0FJakMsSUFBSUksRUFBWVAsRUFBS1EsT0FRckIsU0FBU0MsRUFBV0osR0FDaEIsTUFBTUssRUFBTU4sRUFBVUMsR0FFdEIsT0FUSixTQUFvQkEsR0FDWkEsRUFBTSxLQUNWTCxFQUFLSyxHQUFPRSxFQUNaQSxFQUFZRixHQUtaTSxDQUFXTixHQUNKSyxFQUdYLElBQUlFLEVBQWtCLEVBRWxCQyxFQUF1QixLQUMzQixTQUFTQyxJQUlMLE9BSDZCLE9BQXpCRCxHQUFpQ0EsRUFBcUJFLFNBQVdoQixFQUFLaUIsT0FBT0QsU0FDN0VGLEVBQXVCLElBQUlJLFdBQVdsQixFQUFLaUIsT0FBT0QsU0FFL0NGLEVBR1gsSUFBSUssRUFBb0IsSUFBSUMsWUFBWSxTQUV4QyxNQUFNQyxFQUF3RCxtQkFBakNGLEVBQWtCRyxXQUN6QyxTQUFVQyxFQUFLQyxHQUNqQixPQUFPTCxFQUFrQkcsV0FBV0MsRUFBS0MsSUFFdkMsU0FBVUQsRUFBS0MsR0FDakIsTUFBTUMsRUFBTU4sRUFBa0JPLE9BQU9ILEdBRXJDLE9BREFDLEVBQUtHLElBQUlGLEdBQ0YsQ0FDSEcsS0FBTUwsRUFBSWQsT0FDVm9CLFFBQVNKLEVBQUloQixTQUlyQixTQUFTcUIsRUFBa0JQLEVBQUtRLEVBQVFDLEdBRXBDLFFBQWdCNUIsSUFBWjRCLEVBQXVCLENBQ3ZCLE1BQU1QLEVBQU1OLEVBQWtCTyxPQUFPSCxHQUMvQlUsRUFBTUYsRUFBT04sRUFBSWhCLFFBR3ZCLE9BRkFNLElBQWtCbUIsU0FBU0QsRUFBS0EsRUFBTVIsRUFBSWhCLFFBQVFrQixJQUFJRixHQUN0RFosRUFBa0JZLEVBQUloQixPQUNmd0IsRUFHWCxJQUFJRSxFQUFNWixFQUFJZCxPQUNWd0IsRUFBTUYsRUFBT0ksR0FFakIsTUFBTUMsRUFBTXJCLElBRVosSUFBSXNCLEVBQVMsRUFFYixLQUFPQSxFQUFTRixFQUFLRSxJQUFVLENBQzNCLE1BQU1DLEVBQU9mLEVBQUlnQixXQUFXRixHQUM1QixHQUFJQyxFQUFPLElBQU0sTUFDakJGLEVBQUlILEVBQU1JLEdBQVVDLEVBR3hCLEdBQUlELElBQVdGLEVBQUssQ0FDRCxJQUFYRSxJQUNBZCxFQUFNQSxFQUFJaUIsTUFBTUgsSUFFcEJKLEVBQU1ELEVBQVFDLEVBQUtFLEVBQUtBLEVBQU1FLEVBQXNCLEVBQWJkLEVBQUlkLFFBQzNDLE1BQU1lLEVBQU9ULElBQWtCbUIsU0FBU0QsRUFBTUksRUFBUUosRUFBTUUsR0FHNURFLEdBRlloQixFQUFhRSxFQUFLQyxHQUVoQkssUUFJbEIsT0FEQWhCLEVBQWtCd0IsRUFDWEosRUFVWCxJQUFJUSxFQUF1QixLQUMzQixTQUFTQyxJQUlMLE9BSDZCLE9BQXpCRCxHQUFpQ0EsRUFBcUJ6QixTQUFXaEIsRUFBS2lCLE9BQU9ELFNBQzdFeUIsRUFBdUIsSUFBSUUsV0FBVzNDLEVBQUtpQixPQUFPRCxTQUUvQ3lCLEVBR1gsSUFBSUcsRUFBb0IsSUFBSUMsWUFBWSxRQUFTLENBQUVDLFdBQVcsRUFBTUMsT0FBTyxJQUkzRSxTQUFTQyxFQUFtQmYsRUFBS0UsR0FDN0IsT0FBT1MsRUFBa0JLLE9BQU9sQyxJQUFrQm1CLFNBQVNELEVBQUtBLEVBQU1FLElBT25FLFNBQVNlLEVBQW9CcEYsRUFBTXFGLEdBQ3RDLElBQ0ksTUFBTUMsRUFBU3BELEVBQUtxRCxvQkFBb0I3RSxNQUFRLEdBQ2hEd0IsRUFBS3FELG9CQUFvQjdFLE1BQVE0RSxFQUNqQyxJQUFJRSxFQUFPeEIsRUFBa0JoRSxFQUFNa0MsRUFBS3VELGtCQUFtQnZELEVBQUt3RCxvQkFDNURDLEVBQU81QyxFQUNQNkMsRUFqQ1osU0FBMkJuQyxFQUFLUSxHQUM1QixNQUFNRSxFQUFNRixFQUFvQixFQUFiUixFQUFJZCxRQUd2QixPQUZBTSxJQUFrQlksSUFBSUosRUFBS1UsRUFBTSxHQUNqQ3BCLEVBQWtCVSxFQUFJZCxPQUNmd0IsRUE2QlEwQixDQUFrQlIsRUFBTW5ELEVBQUt1RCxtQkFDcENLLEVBQU8vQyxFQUNYYixFQUFLa0Qsb0JBQW9CRSxFQUFRRSxFQUFNRyxFQUFNQyxFQUFNRSxHQUNuRCxJQUFJQyxFQUFLbkIsSUFBa0JVLEVBQVMsRUFBSSxHQUNwQ1UsRUFBS3BCLElBQWtCVSxFQUFTLEVBQUksR0FDeEMsT0FBT0osRUFBbUJhLEVBQUlDLEdBQ2hDLFFBQ0U5RCxFQUFLcUQsb0JBQW9CN0UsT0FBUyxHQUNsQ3dCLEVBQUsrRCxnQkFBZ0JGLEVBQUlDLElBUzFCLFNBQVNFLEVBQVlsRyxFQUFNbUcsR0FDOUIsSUFDSSxNQUFNYixFQUFTcEQsRUFBS3FELG9CQUFvQjdFLE1BQVEsR0FDaER3QixFQUFLcUQsb0JBQW9CN0UsTUFBUTRFLEVBQ2pDLElBQUlFLEVBQU94QixFQUFrQmhFLEVBQU1rQyxFQUFLdUQsa0JBQW1CdkQsRUFBS3dELG9CQUM1REMsRUFBTzVDLEVBQ1A2QyxFQUFPNUIsRUFBa0JtQyxFQUFPakUsRUFBS3VELGtCQUFtQnZELEVBQUt3RCxvQkFDN0RJLEVBQU8vQyxFQUNYYixFQUFLZ0UsWUFBWVosRUFBUUUsRUFBTUcsRUFBTUMsRUFBTUUsR0FDM0MsSUFBSUMsRUFBS25CLElBQWtCVSxFQUFTLEVBQUksR0FDcENVLEVBQUtwQixJQUFrQlUsRUFBUyxFQUFJLEdBQ3hDLE9BQU9KLEVBQW1CYSxFQUFJQyxHQUNoQyxRQUNFOUQsRUFBS3FELG9CQUFvQjdFLE9BQVMsR0FDbEN3QixFQUFLK0QsZ0JBQWdCRixFQUFJQyxJQS9DakNsQixFQUFrQkssU0FxSUgsVUF4Q2ZpQixlQUFlQyxFQUFLQyxRQUNLLElBQVZBLElBQ1BBLEVBQWdCN0UsRUFBZSxzQ0FBNkM4RSxRQUFRLFFBQVMsYUFFakcsTUFBTUMsRUFBVSxDQUNoQixJQUFjLElBQ2RBLEVBQVFDLElBQUlDLDJCQUE2QixXQUVyQyxPQWxEUixTQUF1QkMsR0FDZmpFLElBQWNQLEVBQUtRLFFBQVFSLEVBQUtNLEtBQUtOLEVBQUtRLE9BQVMsR0FDdkQsTUFBTUgsRUFBTUUsRUFJWixPQUhBQSxFQUFZUCxFQUFLSyxHQUVqQkwsRUFBS0ssR0FBT21FLEVBQ0xuRSxFQTRDSW9FLENBREcsSUFBSUMsUUFHbEJMLEVBQVFDLElBQUlLLDZCQUErQixTQUFTQyxFQUFNQyxHQUN0RCxJQUNJeEIsRUFBT3hCLEVBRER6QixFQUFVeUUsR0FBTUMsTUFDUS9FLEVBQUt1RCxrQkFBbUJ2RCxFQUFLd0Qsb0JBQzNEQyxFQUFPNUMsRUFDWDZCLElBQWtCbUMsRUFBTyxFQUFJLEdBQUtwQixFQUNsQ2YsSUFBa0JtQyxFQUFPLEVBQUksR0FBS3ZCLEdBRXRDZ0IsRUFBUUMsSUFBSVMsNkJBQStCLFNBQVNILEVBQU1DLEdBQ3RELElBQ0lHLFFBQVFDLE1BQU1sQyxFQUFtQjZCLEVBQU1DLElBQ3pDLFFBQ0U5RSxFQUFLK0QsZ0JBQWdCYyxFQUFNQyxLQUduQ1IsRUFBUUMsSUFBSVksMkJBQTZCLFNBQVNOLEdBQzlDbkUsRUFBV21FLEtBR00saUJBQVZULEdBQTBDLG1CQUFaZ0IsU0FBMEJoQixhQUFpQmdCLFNBQTRCLG1CQUFSQyxLQUFzQmpCLGFBQWlCaUIsT0FDM0lqQixFQUFRa0IsTUFBTWxCLElBR2xCLE1BQU0sU0FBRW1CLEVBQVEsT0FBRWpJLFNBakV0QjRHLGVBQW9CNUcsRUFBUWdILEdBQ3hCLEdBQXdCLG1CQUFia0IsVUFBMkJsSSxhQUFrQmtJLFNBQVUsQ0FFOUQsR0FBZ0QsbUJBQXJDQyxZQUFZQyxxQkFDbkIsSUFDSSxhQUFhRCxZQUFZQyxxQkFBcUJwSSxFQUFRZ0gsR0FFeEQsTUFBT3FCLEdBQ0wsR0FBMEMsb0JBQXRDckksRUFBT3NJLFFBQVF4SCxJQUFJLGdCQUluQixNQUFNdUgsRUFITlYsUUFBUVksS0FBSyxvTUFBcU1GLEdBUTlOLE1BQU1HLFFBQWN4SSxFQUFPeUksY0FDM0IsYUFBYU4sWUFBWU8sWUFBWUYsRUFBT3hCLEdBRXpDLENBRUgsTUFBTWlCLFFBQWlCRSxZQUFZTyxZQUFZMUksRUFBUWdILEdBRXZELE9BQUlpQixhQUFvQkUsWUFBWVEsU0FDekIsQ0FBRVYsV0FBVWpJLFVBR1ppSSxHQXFDb0JXLE9BQVc5QixFQUFPRSxHQUtyRCxPQUhBdEUsRUFBT3VGLEVBQVNsSSxRQUNoQjhHLEVBQUtnQyx1QkFBeUI3SSxFQUV2QjBDLEksOEVDbFBFLEVBQUFvRyxjQUF5QyxDQUNwREMsY0FBYyxFQUNkQyxnQkFBZ0IsRUFDaEJDLFlBQVksRUFDWkMsbUJBQW9CLEVBQ3BCQyxtQkFBZXJHLEVBQ2ZzRyxzQkFBa0J0RyxHQUdwQixxQ0FDRXVHLEdBSUEsSUFGQSxJQUFNQyxFQUF3QjNJLE9BQU80SSxPQUFPLEdBQUksRUFBQVQsZUFFOUIsTUFBQW5JLE9BQU82SSxLQUFLLEVBQUFWLGVBQVosZUFBMEQsQ0FBdkUsSUFBTXRILEVBQUcsS0FDTmlJLEVBQWNKLEVBQVU3SCxRQUNWc0IsSUFBaEIyRyxJQUdGSCxFQUFPOUgsR0FBT2lJLEdBSWxCLE9BQU9ILEksOEVDaENULHlCQUE4QkksR0FDNUIsSUFBTUMsRUFBV0MsU0FBU0MsY0FBYyxZQUd4QyxPQUZBSCxFQUFPQSxFQUFLSSxPQUNaSCxFQUFTSSxVQUFZTCxFQUNkQyxFQUFTSyxRQUFRQyxZQUcxQixzQkFBOEJDLEVBQWdCQyxHQUM1QyxJQUFNQyxFQUFPLElBQUlDLElBQUlILEdBQ2ZJLEVBQU8sSUFBSUQsSUFBSUYsR0FDZkksRUFBTyxJQUFJRixJQUFJekgsTUFBTTRILEtBQUtKLEdBQU1LLFFBQU8sU0FBQUMsR0FBSyxPQUFDSixFQUFLSyxJQUFJRCxPQUM1RCxPQUFPOUgsTUFBTTRILEtBQUtELEssOEVDWHBCLFdBQ0EsT0FRQSxzQkFDRSxJQUFNSyxFQUFRLElBQUksVUFLbEIsT0FKQSxVQUxFLDZDQUtZQyxNQUFLLFdBQ2pCRCxFQUFNRSxRQUFTLEVBQ2ZGLEVBQU1HLG9CQUVESCxJLHNUQ2ZULFdBQ0EsT0FDQSxRQUNBLE9BR0EsYUFJRSxXQUFZSSxHQUhaLEtBQUFDLFNBQTBCLEdBSXhCQyxLQUFLRixVQUFZQSxFQTBEckIsT0F2REUsWUFBQUcsa0JBQUEsU0FBa0JDLEVBQWdCQyxHQUcxQixlQUFFQyxFQUFBLEVBQUFBLE9BQVFDLEVBQUEsRUFBQUEsU0FJaEIsR0FBSUQsRUFBUyxLQUFPQSxFQUFTLElBRTNCLE1BREFGLEVBQU9JLG1CQUNELElBQUluRSxNQUFNLFNBQVNpRSxFQUFNLGVBQWVGLEVBQU9oSixJQUFHLEtBRzFEOEksS0FBS0YsVUFBVVMsb0JBQW1CLFdBQ2hDLElBQUtMLEVBQU94RCxNQUFPLENBQ2pCLElBQU04RCxFQUFZLHNCQUNoQk4sRUFBTzVLLEtBQ1AsSUFBSW9ELFdBQVcySCxJQUdqQkgsRUFBT08sb0JBQW9CLEdBQzNCUCxFQUFPUSxjQUFjUixFQUFPUyxXQUFXQyxZQUVuQ1YsRUFBT1csT0FBTy9DLGdCQUVoQnJCLFFBQVFxRSxJQUFJLEVBQUQsQ0FDVHhMLEtBQU00SyxFQUFPNUssS0FDYnlMLFlBQWFWLEVBQVNXLFlBQ25CQyxLQUFLQyxNQUFNVixVQU9qQixZQUFBVyxTQUFQLFNBQ0U3TCxFQUNBNEIsRUFDQTJKLEdBSEYsV0FLUU8sRUFBYSxFQUFBQywwQkFBMEJSLEdBQ3ZDWCxFQUFTLElBQUksRUFBQW9CLE9BQU9oTSxFQUFNNEIsRUFBS2tLLEVBQVlwQixLQUFLRixXQUNsREUsS0FBS0QsU0FBUzlILE9BQVMsR0FDekIrSCxLQUFLRCxTQUFTaEksS0FBS21JLEdBR3JCLEVBQUFxQixpQkFBaUJyQixFQUFRaEosRUFBSyxDQUM1QndHLEtBQU0sU0FBQVAsR0FBSyxTQUFLOEMsa0JBQWtCQyxFQUFRL0MsSUFDMUNxRSxTQUFVLFNBQUNBLEVBQVV0QixHQUNuQkEsRUFBT08sb0JBQW9CZSxJQUU3QjlFLE1BQU8sV0FDTHdELEVBQU9JLHVCQUlmLEVBL0RBLEdBQWEsRUFBQW1CLGlCLDZCQ05iLGdGQU9BLE1BQU0zQixFQUFZLHFCQUNaNEIsRUFBZ0IsSUFBSSxnQkFBYzVCLEdBRWpDLFNBQVNxQixFQUFTN0wsRUFBTTRCLEVBQUsySixFQUFTLElBQzNDLEdBQW9CLGlCQUFUdkwsRUFDVCxNQUFNLElBQUk2RyxNQUFNLDZDQUdsQixHQUFtQixpQkFBUmpGLEVBQ1QsTUFBTSxJQUFJaUYsTUFBTSx5QkFHbEIsSUFBSXdGLEVBQWdCLHFCQUNsQmxNLE9BQU82SSxLQUFLdUMsR0FDWnBMLE9BQU82SSxLQUFLLGtCQUVkLEdBQUlxRCxFQUFjQyxLQUFPLEVBQ3ZCLE1BQU0sSUFBSXpGLE1BQ1IsY0FDRXdGLEVBQWdCLEVBQUksSUFBTSx3QkFDTlYsS0FBS1ksVUFBVW5LLE1BQU00SCxLQUFLcUMsT0FJcERELEVBQWNQLFNBQVM3TCxFQUFNNEIsRUFBSzJKLEdBR3JCLFdBQ2JNLGEsOEVDbkNGLDhCQUNFLEtBQUF2QixRQUFTLEVBQ1QsS0FBQUYsTUFBd0IsR0FpQjFCLE9BZkUsWUFBQWEsbUJBQUEsU0FBbUJ1QixHQUNiOUIsS0FBS0osT0FDUGtDLElBRUE5QixLQUFLTixNQUFNM0gsS0FBSytKLElBSXBCLFlBQUFqQyxlQUFBLFdBQ0UsSUFBaUIsVUFBQUcsS0FBS04sTUFBTCxlQUFZLEVBQzNCb0MsRUFEVyxRQUliOUIsS0FBS04sTUFBUSxJQUVqQixFQW5CQSxHLDJGQ0NBLFdBRUEsT0FFQSxhQWdCRSxXQUNFcEssRUFDQTRCLEVBQ0EySixFQUNBZixHQVpGLEtBQUFpQyxRQUF5QixHQUN6QixLQUFBQyxrQkFBb0IsRUFDcEIsS0FBQVIsU0FBVyxFQUNYLEtBQUE5RSxPQUFRLEVBQ1IsS0FBQXVGLGlCQUFtQixFQUNuQixLQUFBQyxnQkFBaUIsRUFDakIsS0FBQUMsb0JBQXFCLEVBUW5CbkMsS0FBSzFLLEtBQU9BLEVBQ1owSyxLQUFLOUksSUFBTUEsRUFDWDhJLEtBQUthLE9BQVNBLEVBQ2RiLEtBQUtGLFVBQVlBLEVBRWpCRSxLQUFLVyxXQUFhLElBQUksRUFBQXlCLFVBQVU5TSxFQUFNMEssTUEwSDFDLE9BdkhVLFlBQUFxQyxrQkFBUixXQUNFLElBQU01RyxFQUFRdUUsS0FBS1csV0FBV0MsV0FDOUIsT0FBSVosS0FBS3RELE1BQ0Esb0NBQ0VzRCxLQUFLd0IsU0FBVyxJQUFNeEIsS0FBS0YsVUFBVUYsT0FDdkMsY0FDRW5FLGFBQUssRUFBTEEsRUFBT3hELFFBQVMrSCxLQUFLYSxPQUFPN0MsbUJBQzlCLGVBQ0VnQyxLQUFLK0IsUUFDZ0IsSUFBMUIvQixLQUFLaUMsaUJBQ0Esa0JBQzRCLElBQTFCakMsS0FBS2lDLGlCQUNQLGdCQUVHakMsS0FBS2lDLGlCQUFnQixnQkFJNUIsTUFHRCxZQUFBSyxxQkFBUixXQUNFLE1BQU8sQ0FDTFAsUUFBUy9CLEtBQUsrQixRQUNkRyxnQkFBZ0IsRUFDaEJuRSxXQUFZaUMsS0FBS2EsT0FBTzlDLFdBQ3hCd0UsUUFBU3ZDLEtBQUtxQyxvQkFDZHhFLGFBQWNtQyxLQUFLYSxPQUFPaEQsYUFDMUIyRCxTQUFVeEIsS0FBS3dCLFNBQ2Y5RSxNQUFPc0QsS0FBS3RELFFBSVIsWUFBQThGLE9BQVIsV0FDRXhDLEtBQUtXLFdBQVc2QixPQUFPeEMsS0FBS3NDLHlCQUc5QixZQUFBRyxpQkFBQSxTQUFpQjlILEdBQ2ZxRixLQUFLK0IsUUFBVXBILEVBQUtvSCxRQUNwQi9CLEtBQUtpQyxpQkFBbUJ0SCxFQUFLK0gsZ0JBQzdCMUMsS0FBS2dDLGtCQUFvQixFQUd6QixJQUFNVyxFQUFZaEksRUFBS2lJLFlBQWMsR0FDckM1QyxLQUFLK0IsUUFBUWMsS0FBSSxTQUFBaE4sR0FDZixJQUFJaU4sRUFBWSxHQUlkak4sRUFBRWtOLFVBQ0ZsTixFQUFFa04sU0FBUyxJQUNYbE4sRUFBRWtOLFNBQVMsR0FBR0Msc0JBQ2RuTixFQUFFa04sU0FBUyxHQUFHQyxxQkFBcUIsSUFDbkNuTixFQUFFa04sU0FBUyxHQUFHQyxxQkFBcUIsR0FBTSxHQUNhLGlCQUEvQ25OLEVBQUVrTixTQUFTLEdBQUdDLHFCQUFxQixHQUFNLElBRWhERixFQUFZak4sRUFBRWtOLFNBQVMsR0FBR0MscUJBQXFCLEdBQU0sR0FFdkRuTixFQUFFb04sTUFBTS9MLElBQU0sR0FBR3lMLEVBQVk5TSxFQUFFb04sTUFBTS9MLElBQU00TCxLQUc3QzlDLEtBQUt3QyxVQUdDLFlBQUFVLG9CQUFSLFdBQ0UsSUFBTW5CLEVBQVUvQixLQUFLK0IsUUFRckIsT0FQQUEsRUFBUWMsS0FBSSxTQUFBTSxVQUNIQSxFQUFPQyx1QkFDZEQsRUFBT0osU0FBU0YsS0FBSSxTQUFBUSxVQUNYQSxFQUFRQyx3QkFDUkQsRUFBUUwsMkJBR1pqQixHQUdULFlBQUF0QixvQkFBQSxTQUFvQjhDLEdBQ2xCdkQsS0FBS3RELE9BQVEsRUFDYnNELEtBQUt3QixTQUFXK0IsRUFDWnZELEtBQUthLE9BQU9oRCxjQUNkbUMsS0FBS3dDLFVBSVQsWUFBQWxDLGlCQUFBLFdBQ0VOLEtBQUt3QixTQUFXLEVBQ2hCeEIsS0FBS3RELE9BQVEsRUFDYnNELEtBQUt3QyxVQUdQLFlBQUE5QixjQUFBLFNBQWNqRixHQUFkLFdBQ091RSxLQUFLRixVQUFVRixTQUFVSSxLQUFLdEQsTUFLL0JqQixFQUFNeEQsUUFBVStILEtBQUthLE9BQU83QyxtQkFDOUIsRUFBQXdGLGNBQWN4RCxLQUFLMUssS0FBTW1HLEdBQ3RCa0UsTUFBSyxTQUFDaEYsR0FDQUEsSUFNTCxFQUFLOEgsaUJBQWlCOUgsR0FFbEIsRUFBS2tHLE9BQU81QyxlQUNkLEVBQUs0QyxPQUFPNUMsY0FBY3hDLEVBQU8sRUFBS3lILDJCQUd6Q08sT0FBTSxTQUFBdEcsR0FDTFYsUUFBUUMsTUFBTVMsT0FHbEI2QyxLQUFLK0IsUUFBVSxHQUNmL0IsS0FBS3dDLFVBeEJMeEMsS0FBS3dDLFVBMkJYLEVBckpBLEdBQWEsRUFBQWxCLFUsNjhDQ0xiLFdBa0NBLHlCQUNFaE0sRUFDQW1HLEcsMkVBRUlpSSxFQUFlLEtBQ2YvSSxFQUFPLEtBRVgsSUFDRStJLEVBQWUsRUFBQWxJLFlBQVlsRyxFQUFNbUcsR0FHakNkLEVBQU9zRyxLQUFLQyxNQUFNd0MsR0FDbEIsTUFBT3ZHLEdBR1AsTUFBTWhCLE1BQ0osc0dBQ0V1SCxHQUlOLElBQUsvSSxFQUNILE1BQU13QixNQUFNLDRCQUdkLEdBQUl4QixFQUFLK0IsTUFDUCxNQUFNUCxNQUFNLHVRQUtWeEIsRUFBSytCLE9BR1QsTUFBTyxDQUFQLEVBQU8vQixXLDhFQ2xFVCxZQVFBLFFBc0JNZ0osRUFBMEMsQ0FDOUM1QixRQUFTLEdBQ1RHLGdCQUFnQixFQUNoQm5FLFlBQVksRUFDWndFLFFBQVMsS0FDVDFFLGNBQWMsRUFDZDJELFNBQVUsRUFDVjlFLE9BQU8sR0FHVCxhQVVFLFdBQVlwSCxFQUFjNEssR0FBMUIsSSxJQUFBLE9BRkEsS0FBQTBELGtCQUFxQyxNQUduQzVELEtBQUtFLE9BQVNBLEVBRWQsSUFXTSxFQVhPLENBQ1gsQ0FDRTJELFNBQVUscUJBQXFCdk8sRUFBSSxLQUNuQ3dPLFlBQWEsU0FFZixDQUNFRCxTQUFVLG1CQUFtQnZPLEVBQUksWUFDakN3TyxZQUFhLFdBSVgsaUIsMk5BQUNsSSxFQUFBLEtBQU93QyxFQUFBLEtBV2Q0QixLQUFLK0QsU0FBVyxDQUNkbkksTUFBT0EsRUFDUHdDLE9BQVFBLEVBQ1I0RixLQUFNLEVBQUEzTixPQUFPLEtBQU0sQ0FBRTROLFdBQVksQ0FBQyxtQkFDbENDLFlBQWEsRUFBQTdOLE9BQU8sTUFBTyxDQUN6QjROLFdBQVksQ0FBQyx1QkFFZnpDLFNBQVUsRUFBQW5MLE9BQU8sTUFBTyxDQUFFNE4sV0FBWSxDQUFDLG9CQUN2QzFCLFFBQVMsRUFBQWxNLE9BQU8sTUFBTyxDQUFFNE4sV0FBWSxDQUFDLG1CQUN0Q0UsWUFBYSxFQUFBOU4sT0FBTyxTQUFVLENBQzVCNE4sV0FBWSxDQUFDLHlCQUlqQmpFLEtBQUsrRCxTQUFTbkksTUFBTXdJLGlCQUFpQixTQUFTLFNBQUFqSCxHQUM1QyxFQUFLa0gsaUJBQWlCbEgsTUFHeEI2QyxLQUFLK0QsU0FBU25JLE1BQU13SSxpQkFBaUIsV0FBVyxTQUFBakgsR0FDOUMsRUFBS21ILG1CQUFtQm5ILE1BR1IsUUFBbEIsRUFBQTZDLEtBQUsrRCxTQUFTQyxZQUFJLFNBQUVJLGlCQUFpQixhQUFhLFdBQ2hELEVBQUtqQyxvQkFBcUIsS0FHNUJuQyxLQUFLK0QsU0FBU0csWUFBWXJGLFVBQ3hCLDBEQUVGLEVBQUEwRixRQUFRdkUsS0FBSytELFNBQVNJLFlBQWEsS0FFbkMsRUFBQUssSUFBSXhFLEtBQUsrRCxTQUFTdkMsU0FBVSxXQUFZeEIsS0FBSytELFNBQVNuSSxPQUU3QixRQUF6QixFQUFBb0UsS0FBSytELFNBQVNJLG1CQUFXLFNBQUVDLGlCQUFpQixTQUFTLFdBQ25ELEVBQUtMLFNBQVNuSSxNQUFNNUYsTUFBUSxHQUM1QixFQUFLK04sU0FBU25JLE1BQU02SSxRQUNwQixFQUFLakMsT0FBT21CLE1BZ01sQixPQTVMVSxZQUFBZSxTQUFSLFcsTUFDRSxFQUFBQyxNQUFNM0UsS0FBSytELFNBQVMzRixRQUNwQixFQUFBdUcsTUFBTTNFLEtBQUsrRCxTQUFTQyxNQUNLLFFBQXpCLEVBQUFoRSxLQUFLK0QsU0FBU0ksbUJBQVcsU0FBRVMsU0FDM0I1RSxLQUFLK0QsU0FBUzNGLE9BQU95RyxVQUFVRCxPQUFPLHlCQUd4QyxZQUFBcEMsT0FBQSxTQUFPc0MsR0FBUCxJLEVBQUEsT0FDUXJKLEVBQVN1RSxLQUFLK0QsU0FBU25JLE1BQTJCNUYsTUF3QnhELEdBdkJBZ0ssS0FBSzBFLFdBQ0wxRSxLQUFLK0UsZ0JBQWtCRCxFQUVuQkEsRUFBTWpILGNBQWdCaUgsRUFBTXRELFVBQVlzRCxFQUFNdEQsU0FBVyxFQUMzRHhCLEtBQUsrRCxTQUFTdkMsU0FBU3dELE1BQU1DLE1BQTRCLElBQWpCSCxFQUFNdEQsU0FBYyxJQUNuRHNELEVBQU1qSCxlQUNmbUMsS0FBSytELFNBQVN2QyxTQUFTd0QsTUFBTUMsTUFBUSxPQUNyQ2pGLEtBQUsrRCxTQUFTdkMsU0FBU3dELE1BQU1FLFFBQVUsS0FHckNKLEVBQU1wSSxPQUNSc0QsS0FBSytELFNBQVNuSSxNQUFNaUosVUFBVUwsSUFBSSxlQUdoQ3hFLEtBQUtZLFdBQVczSSxPQUFTLEdBQUs2TSxFQUFNNUMsaUJBQ3RDbEMsS0FBSytELFNBQVMzRixPQUFPeUcsVUFBVUwsSUFBSSx3QkFDbkMsRUFBQUEsSUFBSXhFLEtBQUsrRCxTQUFTeEIsUUFBUyxZQUFhdkMsS0FBSytELFNBQVMzRixTQUdwRDBHLEVBQU12QyxTQUNSLEVBQUFnQyxRQUFRdkUsS0FBSytELFNBQVN4QixRQUFTdUMsRUFBTXZDLFVBR3RCLFFBQWIsRUFBQXVDLEVBQU0vQyxlQUFPLGVBQUU5SixRQUFTLEdBQUs2TSxFQUFNNUMsZUFBZ0IsQ0FDckQsRUFBQXNDLElBQUl4RSxLQUFLK0QsU0FBU0MsS0FBTSxZQUFhaEUsS0FBSytELFNBQVMzRixRQUVuRCxJLGVBQVNySixHQUNQLElBQU1vTyxFQUFTMkIsRUFBTS9DLFFBQVFoTixHQUN2Qm9RLEVBQTBDLENBQzlDQyxTQUFVclEsSUFBTSxFQUFLaU4sa0JBQ3JCakUsV0FBWStHLEVBQU0vRyxZQUdkc0gsRUFBVyxFQUFBQyxpQkFBaUJuQyxFQUFRZ0MsR0FDMUMsRUFBQVgsSUFBSWEsRUFBeUIsWUFBYSxFQUFLdEIsU0FBU0MsTUFFeERxQixFQUFTakIsaUJBQWlCLGFBQWEsV0FDakMsRUFBS2pDLG9CQUNIcE4sSUFBTSxFQUFLaU4sbUJBQ2IsRUFBS3VELHdCQUF3QixDQUFFQyxHQUFJelEsRUFBRzBRLGdCQUFnQixPQUs1REosRUFBU2pCLGlCQUFpQixTQUFTLFNBQUFqSCxHQUNqQ0EsRUFBRXVJLGlCQUNGLEVBQUtDLG1CLE9BcEJBNVEsRUFBSSxFQUFHQSxFQUFJK1AsRUFBTS9DLFFBQVE5SixPQUFRbEQsSSxFQUFqQ0EsR0F3QlQsRUFBQXlQLElBQUl4RSxLQUFLK0QsU0FBU0csWUFBYSxZQUFhbEUsS0FBSytELFNBQVMzRixVQUd2RDNDLGFBQUssRUFBTEEsRUFBT3hELFNBQVUsR0FBSyxHQUN6QixFQUFBdU0sSUFBSXhFLEtBQUsrRCxTQUFTSSxZQUFhLFdBQVluRSxLQUFLK0QsU0FBU25JLFFBSXJELFlBQUErSixhQUFSLFdBQ0UsR0FBOEIsTUFBMUIzRixLQUFLZ0Msa0JBQTJCLENBQ2xDLElBQU0sRUFBU2hDLEtBQUtFLE9BQU82QixRQUFRL0IsS0FBS2dDLG1CQUNwQ2hDLEtBQUtFLE9BQU9XLE9BQU8zQyxpQkFDckIwSCxRQUFRQyxRQUNON0YsS0FBS0UsT0FBT1csT0FBTzNDLGlCQUFpQjhCLEtBQUtZLFdBQVksSUFDckRrRixTQUFRLFdBQ1IxTyxPQUFPQyxTQUFTZ0gsT0FBTyxFQUFPNEUsTUFBTS9MLFFBR3RDRSxPQUFPQyxTQUFTZ0gsT0FBTyxFQUFPNEUsTUFBTS9MLE9BSzFDLFlBQUFxTyx3QkFBQSxTQUF3QlEsRyxNQUloQkMsRUFBZ0JoRyxLQUFLZ0Msa0JBRXJCaUUsRUFBY0MsS0FBS0MsSUFDdkIsRUFDQUQsS0FBS0UsSUFBSXBHLEtBQUtFLE9BQU82QixRQUFROUosT0FBUyxFQUFHOE4sRUFBUVAsS0FHbkR4RixLQUFLZ0Msa0JBQW9CaUUsRUFDekJqRyxLQUFLNEQsbUJBQ0ZvQyxHQUFpQixHQUFLQyxFQUFjLE1BQVEsUUFJL0MsSUFGQSxJQUFJSSxFQUFvQixLQUVmdFIsRUFBSSxFQUFHQSxFQUFJaUwsS0FBS0UsT0FBTzZCLFFBQVE5SixPQUFRbEQsSUFBSyxDQUNuRCxJQUFNdVIsRUFBNEIsUUFBckIsRUFBR3RHLEtBQUsrRCxTQUFTQyxZQUFJLGVBQUV1QyxTQUFTeFIsR0FDN0MsR0FBS3VSLEVBQUwsQ0FNSXZSLEdBQUtrUixHQUNQSyxFQUFRekIsVUFBVUwsSUFIUyxZQUkzQjZCLEVBQW9CQyxHQUVwQkEsRUFBUXpCLFVBQVVELE9BTlMsYUE2Qi9CLE9BbEJJbUIsRUFBUU4saUJBQ1Z6RixLQUFLbUMsb0JBQXFCLEVBQ3RCa0UsR0FFQSxFQUFBRyw0QkFDRUgsRUFDQXJHLEtBQUsrRCxTQUFTQyxPQUdmcUMsRUFBa0NJLGVBQWUsQ0FDaERDLFNBQVUsU0FDVkMsTUFBTzNHLEtBQUs0RCxrQkFDWmdELE9BQVEsYUFNVFgsR0FHVCxZQUFBM0IsbUJBQUEsU0FBbUJuRSxHQU1qQixPQUFRQSxFQUFNMEcsU0FDWixLQUxXLEdBTVQsR0FBOEIsTUFBMUI3RyxLQUFLZ0Msa0JBQ1BoQyxLQUFLdUYsd0JBQXdCLENBQUVDLEdBQUksRUFBR0MsZ0JBQWdCLFFBQ2pELENBQ0wsSUFBTXFCLEVBQVNaLEtBQUtFLElBQ2xCcEcsS0FBS2dDLGtCQUFvQixFQUN6QmhDLEtBQUtFLE9BQU82QixRQUFROUosT0FBUyxHQUUvQitILEtBQUt1Rix3QkFBd0IsQ0FBRUMsR0FBSXNCLEVBQVFyQixnQkFBZ0IsSUFFN0QsTUFHRixLQW5CUyxHQW9CUCxHQUE4QixNQUExQnpGLEtBQUtnQyxrQkFBMkIsQ0FDNUI4RSxFQUFTWixLQUFLQyxJQUFJLEVBQUduRyxLQUFLZ0Msa0JBQW9CLEdBQ3BEaEMsS0FBS3VGLHdCQUF3QixDQUFFQyxHQUFJc0IsRUFBUXJCLGdCQUFnQixJQUU3RCxNQUdGLEtBekJhLEdBMEJYekYsS0FBSzJGLGVBQ0wsTUFFRixLQTVCVSxHQTZCSDNGLEtBQUsrRSxnQkFBZ0I3QyxpQkFDeEJsQyxLQUFLK0QsU0FBU25JLE1BQU01RixNQUFRLElBRTlCZ0ssS0FBS3dDLE9BQU9tQixHQUNaLE1BRUYsUUFDRSxTQUlOLFlBQUFVLGlCQUFBLFNBQWlCbEUsR0FDZkgsS0FBS0UsT0FBT1EsY0FBZVAsRUFBTTJHLE9BQTRCOVEsUUFHL0QsWUFBQTRLLFNBQUEsV0FDRSxPQUFRWixLQUFLK0QsU0FBU25JLE1BQTJCNUYsT0FFckQsRUF2UUEsR0FBYSxFQUFBb00sYSw4RUMxQ2Isa0JBQ0U5TSxFQUNBeVIsR0FFQSxJQUFNQyxFQUFPdEksU0FBU0MsY0FBY3JKLEdBSXBDLE9BSEl5UixFQUFXOUMsWUFDYitDLEVBQUtDLGFBQWEsUUFBU0YsRUFBVzlDLFdBQVdpRCxLQUFLLE1BRWpERixHQUdULGVBQ0VBLEVBQ0EzUCxFQUNBOFAsR0FFQUEsRUFBVUMsc0JBQXNCL1AsRUFBVTJQLElBRzVDLGlCQUFzQkEsR0FDcEIsS0FBT0EsR0FBUUEsRUFBS2pJLFlBQ2xCaUksRUFBS0ssWUFBWUwsRUFBS2pJLGFBSTFCLG1CQUF3QmlJLEVBQTBCTSxHQUNoRCxJQUFNQyxFQUFXN0ksU0FBUzhJLGVBQWVGLEdBQ3JDTixHQUFRQSxFQUFLakksV0FDZmlJLEVBQUtTLGFBQWFGLEVBQVVQLEVBQUtqSSxZQUN4QmlJLEdBQ1RBLEVBQUtVLFlBQVlILElBSXJCLHVDQUNFUCxFQUNBVyxHQUVBLElBQU1DLEVBQWtCWixFQUFLYSx3QkFDdkJDLEVBQXVCSCxFQUFVRSx3QkFFdkMsT0FDRUQsRUFBZ0JHLE9BQVNELEVBQXFCQyxRQUM5Q0gsRUFBZ0JJLElBQU1GLEVBQXFCRSxNLDhFQzNDL0MsWUFRQSw0QkFDRTdFLEVBQ0E0QyxHQUVBLElBQU10SCxFQUFXQyxTQUFTQyxjQUFjLFlBc0J4QyxPQXJCQUYsRUFBU0ksVUFBWSw2QkFDRWtILEVBQVFYLFNBQVcsWUFBYyxJQUFFLGtCQUMvQ2pDLEVBQU9GLE1BQU0vTCxJQUFHLHFHQUVFLEVBQUErUSxVQUN2QjlFLEVBQU9GLE1BQU1pRixNQUNiL0UsRUFBT0Msd0JBQ1IsZ0JBQ0MyQyxFQUFRaEksV0FBYSxZQUFZb0YsRUFBT2dGLE1BQUssY0FBZ0IsSUFBRSx1QkFFL0RoRixFQUFPSixTQUNORixLQUNDLFNBQUExRixHQUFLLDBHQUNGLEVBQUE4SyxVQUFVOUssRUFBRW1LLEtBQU1uSyxFQUFFbUcsa0JBQWlCLCtCQUV4Q3lDLEVBQVFoSSxXQUFhLFNBQVNaLEVBQUVnTCxNQUFLLFVBQVksSUFBRSxzQkFHcERqQixLQUFLLElBQUcsa0JBR1J6SSxFQUFTSyxRQUFRc0osb0IsNkJDaENuQixTQUFTSCxFQUFVWCxFQUFNaEUsR0FDOUIsU0FBUytFLEVBQU9DLEVBQUtDLEVBQU92UyxHQUMxQixPQUFPc1MsRUFBSUUsT0FBTyxFQUFHRCxHQUFTdlMsRUFBUXNTLEVBQUlFLE9BQU9ELEdBR25ELElBQUlFLEVBQXlCLEVBRTdCLElBQUssSUFBSUMsS0FBU3BGLEVBQWtCLENBQ2xDLElBQUlxRixFQUFxQixpQ0FDckJDLEVBQWUsVUFFbkJ0QixFQUFPZSxFQUNMZixFQUNBb0IsRUFBTUcsVUFBWUosRUFDbEJFLEdBRUZGLEdBQTBCRSxFQUFtQjFRLE9BRTdDcVAsRUFBT2UsRUFBT2YsRUFBTW9CLEVBQU1JLElBQU1MLEVBQXdCRyxHQUN4REgsR0FBMEJHLEVBQWEzUSxPQUd6QyxPQUFPcVAsRUF4QlQsa0QsOEVDV0EsNEJBQ0VwSCxFQUNBaEosRUFDQTZSLEdBRUEsSUFBTWxULEVBQUksSUFBSW1ULGVBRWRuVCxFQUFFdU8saUJBQWlCLFFBQVEsU0FBQWpILEdBRXJCNEwsRUFBVXJMLE1BQ1pxTCxFQUFVckwsS0FBS1AsRUFBRytDLE1BSXRCckssRUFBRXVPLGlCQUFpQixTQUFTLFdBQzFCM0gsUUFBUUMsTUFBTSxtQkFBbUJ4RixHQUNqQzZSLEVBQVVyTSxXQUdaN0csRUFBRXVPLGlCQUFpQixZQUFZLFNBQUFqSCxHQUM3QixHQUFJNEwsRUFBVXZILFNBQVUsQ0FDdEIsSUFBTXlILEVBQW1CL0MsS0FBS0UsSUFDNUJGLEtBQUtDLElBekJ1QixJQXlCVWhKLEVBQUV5QyxPQUFTekMsRUFBRStMLE9BeEJULEtBMkI1Q0gsRUFBVXZILFNBQVN5SCxFQUFrQi9JLE9BSXJDNkksRUFBVXZILFVBQ1p1SCxFQUFVdkgsU0FqQ3NCLElBaUNnQnRCLEdBR2xEckssRUFBRXNULGFBQWUsY0FDakJ0VCxFQUFFdVQsS0FBSyxNQUFPbFMsR0FDZHJCLEVBQUV3VCIsImZpbGUiOiJzdG9yay5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIlxuICAgICAgZnVuY3Rpb24gZ2V0QWJzb2x1dGVVcmwocmVsYXRpdmVVcmwpIHtcbiAgICAgICAgY29uc3QgcHVibGljUGF0aCA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fO1xuXG4gICAgICAgIGxldCB1cmwgPSAnJztcblxuICAgICAgICBpZiAoIXB1YmxpY1BhdGggfHwgcHVibGljUGF0aC5pbmRleE9mKCc6Ly8nKSA8IDApIHtcbiAgICAgICAgICB1cmwgKz0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHB1YmxpY1BhdGgpIHtcbiAgICAgICAgICB1cmwgKz0gcHVibGljUGF0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cmwgKz0gJy8nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVybCArIHJlbGF0aXZlVXJsO1xuICAgICAgfVxuXG5sZXQgd2FzbTtcblxuY29uc3QgaGVhcCA9IG5ldyBBcnJheSgzMikuZmlsbCh1bmRlZmluZWQpO1xuXG5oZWFwLnB1c2godW5kZWZpbmVkLCBudWxsLCB0cnVlLCBmYWxzZSk7XG5cbmZ1bmN0aW9uIGdldE9iamVjdChpZHgpIHsgcmV0dXJuIGhlYXBbaWR4XTsgfVxuXG5sZXQgaGVhcF9uZXh0ID0gaGVhcC5sZW5ndGg7XG5cbmZ1bmN0aW9uIGRyb3BPYmplY3QoaWR4KSB7XG4gICAgaWYgKGlkeCA8IDM2KSByZXR1cm47XG4gICAgaGVhcFtpZHhdID0gaGVhcF9uZXh0O1xuICAgIGhlYXBfbmV4dCA9IGlkeDtcbn1cblxuZnVuY3Rpb24gdGFrZU9iamVjdChpZHgpIHtcbiAgICBjb25zdCByZXQgPSBnZXRPYmplY3QoaWR4KTtcbiAgICBkcm9wT2JqZWN0KGlkeCk7XG4gICAgcmV0dXJuIHJldDtcbn1cblxubGV0IFdBU01fVkVDVE9SX0xFTiA9IDA7XG5cbmxldCBjYWNoZWdldFVpbnQ4TWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXRVaW50OE1lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZ2V0VWludDhNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0VWludDhNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSB7XG4gICAgICAgIGNhY2hlZ2V0VWludDhNZW1vcnkwID0gbmV3IFVpbnQ4QXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0VWludDhNZW1vcnkwO1xufVxuXG5sZXQgY2FjaGVkVGV4dEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoJ3V0Zi04Jyk7XG5cbmNvbnN0IGVuY29kZVN0cmluZyA9ICh0eXBlb2YgY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlSW50byA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gZnVuY3Rpb24gKGFyZywgdmlldykge1xuICAgIHJldHVybiBjYWNoZWRUZXh0RW5jb2Rlci5lbmNvZGVJbnRvKGFyZywgdmlldyk7XG59XG4gICAgOiBmdW5jdGlvbiAoYXJnLCB2aWV3KSB7XG4gICAgY29uc3QgYnVmID0gY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlKGFyZyk7XG4gICAgdmlldy5zZXQoYnVmKTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZWFkOiBhcmcubGVuZ3RoLFxuICAgICAgICB3cml0dGVuOiBidWYubGVuZ3RoXG4gICAgfTtcbn0pO1xuXG5mdW5jdGlvbiBwYXNzU3RyaW5nVG9XYXNtMChhcmcsIG1hbGxvYywgcmVhbGxvYykge1xuXG4gICAgaWYgKHJlYWxsb2MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBidWYgPSBjYWNoZWRUZXh0RW5jb2Rlci5lbmNvZGUoYXJnKTtcbiAgICAgICAgY29uc3QgcHRyID0gbWFsbG9jKGJ1Zi5sZW5ndGgpO1xuICAgICAgICBnZXRVaW50OE1lbW9yeTAoKS5zdWJhcnJheShwdHIsIHB0ciArIGJ1Zi5sZW5ndGgpLnNldChidWYpO1xuICAgICAgICBXQVNNX1ZFQ1RPUl9MRU4gPSBidWYubGVuZ3RoO1xuICAgICAgICByZXR1cm4gcHRyO1xuICAgIH1cblxuICAgIGxldCBsZW4gPSBhcmcubGVuZ3RoO1xuICAgIGxldCBwdHIgPSBtYWxsb2MobGVuKTtcblxuICAgIGNvbnN0IG1lbSA9IGdldFVpbnQ4TWVtb3J5MCgpO1xuXG4gICAgbGV0IG9mZnNldCA9IDA7XG5cbiAgICBmb3IgKDsgb2Zmc2V0IDwgbGVuOyBvZmZzZXQrKykge1xuICAgICAgICBjb25zdCBjb2RlID0gYXJnLmNoYXJDb2RlQXQob2Zmc2V0KTtcbiAgICAgICAgaWYgKGNvZGUgPiAweDdGKSBicmVhaztcbiAgICAgICAgbWVtW3B0ciArIG9mZnNldF0gPSBjb2RlO1xuICAgIH1cblxuICAgIGlmIChvZmZzZXQgIT09IGxlbikge1xuICAgICAgICBpZiAob2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2Uob2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBwdHIgPSByZWFsbG9jKHB0ciwgbGVuLCBsZW4gPSBvZmZzZXQgKyBhcmcubGVuZ3RoICogMyk7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBnZXRVaW50OE1lbW9yeTAoKS5zdWJhcnJheShwdHIgKyBvZmZzZXQsIHB0ciArIGxlbik7XG4gICAgICAgIGNvbnN0IHJldCA9IGVuY29kZVN0cmluZyhhcmcsIHZpZXcpO1xuXG4gICAgICAgIG9mZnNldCArPSByZXQud3JpdHRlbjtcbiAgICB9XG5cbiAgICBXQVNNX1ZFQ1RPUl9MRU4gPSBvZmZzZXQ7XG4gICAgcmV0dXJuIHB0cjtcbn1cblxuZnVuY3Rpb24gcGFzc0FycmF5OFRvV2FzbTAoYXJnLCBtYWxsb2MpIHtcbiAgICBjb25zdCBwdHIgPSBtYWxsb2MoYXJnLmxlbmd0aCAqIDEpO1xuICAgIGdldFVpbnQ4TWVtb3J5MCgpLnNldChhcmcsIHB0ciAvIDEpO1xuICAgIFdBU01fVkVDVE9SX0xFTiA9IGFyZy5sZW5ndGg7XG4gICAgcmV0dXJuIHB0cjtcbn1cblxubGV0IGNhY2hlZ2V0SW50MzJNZW1vcnkwID0gbnVsbDtcbmZ1bmN0aW9uIGdldEludDMyTWVtb3J5MCgpIHtcbiAgICBpZiAoY2FjaGVnZXRJbnQzMk1lbW9yeTAgPT09IG51bGwgfHwgY2FjaGVnZXRJbnQzMk1lbW9yeTAuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgY2FjaGVnZXRJbnQzMk1lbW9yeTAgPSBuZXcgSW50MzJBcnJheSh3YXNtLm1lbW9yeS5idWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVnZXRJbnQzMk1lbW9yeTA7XG59XG5cbmxldCBjYWNoZWRUZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnLCB7IGlnbm9yZUJPTTogdHJ1ZSwgZmF0YWw6IHRydWUgfSk7XG5cbmNhY2hlZFRleHREZWNvZGVyLmRlY29kZSgpO1xuXG5mdW5jdGlvbiBnZXRTdHJpbmdGcm9tV2FzbTAocHRyLCBsZW4pIHtcbiAgICByZXR1cm4gY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKGdldFVpbnQ4TWVtb3J5MCgpLnN1YmFycmF5KHB0ciwgcHRyICsgbGVuKSk7XG59XG4vKipcbiogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiogQHBhcmFtIHtVaW50OEFycmF5fSBkYXRhXG4qIEByZXR1cm5zIHtzdHJpbmd9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHdhc21fcmVnaXN0ZXJfaW5kZXgobmFtZSwgZGF0YSkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9leHBvcnRfMC52YWx1ZSAtIDE2O1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAudmFsdWUgPSByZXRwdHI7XG4gICAgICAgIHZhciBwdHIwID0gcGFzc1N0cmluZ1RvV2FzbTAobmFtZSwgd2FzbS5fX3diaW5kZ2VuX21hbGxvYywgd2FzbS5fX3diaW5kZ2VuX3JlYWxsb2MpO1xuICAgICAgICB2YXIgbGVuMCA9IFdBU01fVkVDVE9SX0xFTjtcbiAgICAgICAgdmFyIHB0cjEgPSBwYXNzQXJyYXk4VG9XYXNtMChkYXRhLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jKTtcbiAgICAgICAgdmFyIGxlbjEgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIHdhc20ud2FzbV9yZWdpc3Rlcl9pbmRleChyZXRwdHIsIHB0cjAsIGxlbjAsIHB0cjEsIGxlbjEpO1xuICAgICAgICB2YXIgcjAgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMF07XG4gICAgICAgIHZhciByMSA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAxXTtcbiAgICAgICAgcmV0dXJuIGdldFN0cmluZ0Zyb21XYXNtMChyMCwgcjEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHdhc20uX193YmluZGdlbl9leHBvcnRfMC52YWx1ZSArPSAxNjtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocjAsIHIxKTtcbiAgICB9XG59XG5cbi8qKlxuKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlcbiogQHJldHVybnMge3N0cmluZ31cbiovXG5leHBvcnQgZnVuY3Rpb24gd2FzbV9zZWFyY2gobmFtZSwgcXVlcnkpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAudmFsdWUgLSAxNjtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLnZhbHVlID0gcmV0cHRyO1xuICAgICAgICB2YXIgcHRyMCA9IHBhc3NTdHJpbmdUb1dhc20wKG5hbWUsIHdhc20uX193YmluZGdlbl9tYWxsb2MsIHdhc20uX193YmluZGdlbl9yZWFsbG9jKTtcbiAgICAgICAgdmFyIGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIHZhciBwdHIxID0gcGFzc1N0cmluZ1RvV2FzbTAocXVlcnksIHdhc20uX193YmluZGdlbl9tYWxsb2MsIHdhc20uX193YmluZGdlbl9yZWFsbG9jKTtcbiAgICAgICAgdmFyIGxlbjEgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIHdhc20ud2FzbV9zZWFyY2gocmV0cHRyLCBwdHIwLCBsZW4wLCBwdHIxLCBsZW4xKTtcbiAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgIHJldHVybiBnZXRTdHJpbmdGcm9tV2FzbTAocjAsIHIxKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAudmFsdWUgKz0gMTY7XG4gICAgICAgIHdhc20uX193YmluZGdlbl9mcmVlKHIwLCByMSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhZGRIZWFwT2JqZWN0KG9iaikge1xuICAgIGlmIChoZWFwX25leHQgPT09IGhlYXAubGVuZ3RoKSBoZWFwLnB1c2goaGVhcC5sZW5ndGggKyAxKTtcbiAgICBjb25zdCBpZHggPSBoZWFwX25leHQ7XG4gICAgaGVhcF9uZXh0ID0gaGVhcFtpZHhdO1xuXG4gICAgaGVhcFtpZHhdID0gb2JqO1xuICAgIHJldHVybiBpZHg7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWQobW9kdWxlLCBpbXBvcnRzKSB7XG4gICAgaWYgKHR5cGVvZiBSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJyAmJiBtb2R1bGUgaW5zdGFuY2VvZiBSZXNwb25zZSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKG1vZHVsZSwgaW1wb3J0cyk7XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKSAhPSAnYXBwbGljYXRpb24vd2FzbScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nYCBmYWlsZWQgYmVjYXVzZSB5b3VyIHNlcnZlciBkb2VzIG5vdCBzZXJ2ZSB3YXNtIHdpdGggYGFwcGxpY2F0aW9uL3dhc21gIE1JTUUgdHlwZS4gRmFsbGluZyBiYWNrIHRvIGBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZWAgd2hpY2ggaXMgc2xvd2VyLiBPcmlnaW5hbCBlcnJvcjpcXG5cIiwgZSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgbW9kdWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgIHJldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShieXRlcywgaW1wb3J0cyk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUobW9kdWxlLCBpbXBvcnRzKTtcblxuICAgICAgICBpZiAoaW5zdGFuY2UgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5JbnN0YW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgaW5zdGFuY2UsIG1vZHVsZSB9O1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXQoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpbnB1dCA9ICh7IHVybDogZ2V0QWJzb2x1dGVVcmwoJ25vZGVfbW9kdWxlcy9zdG9yay1zZWFyY2gvc3RvcmsuanMnKSB9KS51cmwucmVwbGFjZSgvXFwuanMkLywgJ19iZy53YXNtJyk7XG4gICAgfVxuICAgIGNvbnN0IGltcG9ydHMgPSB7fTtcbiAgICBpbXBvcnRzLndiZyA9IHt9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX25ld181OWNiNzRlNDIzNzU4ZWRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZXQgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgcmV0dXJuIGFkZEhlYXBPYmplY3QocmV0KTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JnX3N0YWNrXzU1OGJhNTkxN2I0NjZlZGQgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIHZhciByZXQgPSBnZXRPYmplY3QoYXJnMSkuc3RhY2s7XG4gICAgICAgIHZhciBwdHIwID0gcGFzc1N0cmluZ1RvV2FzbTAocmV0LCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jLCB3YXNtLl9fd2JpbmRnZW5fcmVhbGxvYyk7XG4gICAgICAgIHZhciBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICBnZXRJbnQzMk1lbW9yeTAoKVthcmcwIC8gNCArIDFdID0gbGVuMDtcbiAgICAgICAgZ2V0SW50MzJNZW1vcnkwKClbYXJnMCAvIDQgKyAwXSA9IHB0cjA7XG4gICAgfTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19lcnJvcl80YmI2YzJhOTc0MDcxMjlhID0gZnVuY3Rpb24oYXJnMCwgYXJnMSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUoYXJnMCwgYXJnMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmID0gZnVuY3Rpb24oYXJnMCkge1xuICAgICAgICB0YWtlT2JqZWN0KGFyZzApO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCAodHlwZW9mIFJlcXVlc3QgPT09ICdmdW5jdGlvbicgJiYgaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB8fCAodHlwZW9mIFVSTCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnB1dCBpbnN0YW5jZW9mIFVSTCkpIHtcbiAgICAgICAgaW5wdXQgPSBmZXRjaChpbnB1dCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnN0YW5jZSwgbW9kdWxlIH0gPSBhd2FpdCBsb2FkKGF3YWl0IGlucHV0LCBpbXBvcnRzKTtcblxuICAgIHdhc20gPSBpbnN0YW5jZS5leHBvcnRzO1xuICAgIGluaXQuX193YmluZGdlbl93YXNtX21vZHVsZSA9IG1vZHVsZTtcblxuICAgIHJldHVybiB3YXNtO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpbml0O1xuXG4iLCJleHBvcnQgaW50ZXJmYWNlIENvbmZpZ3VyYXRpb24ge1xuICBzaG93UHJvZ3Jlc3M6IGJvb2xlYW47XG4gIHByaW50SW5kZXhJbmZvOiBib29sZWFuO1xuICBzaG93U2NvcmVzOiBib29sZWFuO1xuICBtaW5pbXVtUXVlcnlMZW5ndGg6IG51bWJlcjtcbiAgb25RdWVyeVVwZGF0ZT86IChxdWVyeTogc3RyaW5nLCByZXN1bHRzOiB1bmtub3duKSA9PiB1bmtub3duO1xuICBvblJlc3VsdFNlbGVjdGVkPzogKHF1ZXJ5OiBzdHJpbmcsIHJlc3VsdDogdW5rbm93bikgPT4gdW5rbm93bjtcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWc6IFJlYWRvbmx5PENvbmZpZ3VyYXRpb24+ID0ge1xuICBzaG93UHJvZ3Jlc3M6IHRydWUsXG4gIHByaW50SW5kZXhJbmZvOiBmYWxzZSxcbiAgc2hvd1Njb3JlczogZmFsc2UsXG4gIG1pbmltdW1RdWVyeUxlbmd0aDogMyxcbiAgb25RdWVyeVVwZGF0ZTogdW5kZWZpbmVkLFxuICBvblJlc3VsdFNlbGVjdGVkOiB1bmRlZmluZWRcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVPdmVycmlkZGVuQ29uZmlnKFxuICBvdmVycmlkZXM6IFBhcnRpYWw8Q29uZmlndXJhdGlvbj5cbik6IENvbmZpZ3VyYXRpb24ge1xuICBjb25zdCBvdXRwdXQ6IENvbmZpZ3VyYXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Q29uZmlnKTtcblxuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhkZWZhdWx0Q29uZmlnKSBhcyBBcnJheTxrZXlvZiBDb25maWd1cmF0aW9uPikge1xuICAgIGNvbnN0IG92ZXJyaWRlVmFsID0gb3ZlcnJpZGVzW2tleV07XG4gICAgaWYgKG92ZXJyaWRlVmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgb3V0cHV0W2tleV0gPSBvdmVycmlkZVZhbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGh0bWxUb0VsZW1lbnQoaHRtbDogc3RyaW5nKTogQ2hpbGROb2RlIHwgbnVsbCB7XG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICBodG1sID0gaHRtbC50cmltKCk7IC8vIE5ldmVyIHJldHVybiBhIHRleHQgbm9kZSBvZiB3aGl0ZXNwYWNlIGFzIHRoZSByZXN1bHRcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gaHRtbDtcbiAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZlcmVuY2U8VD4oYXJyMTogQXJyYXk8VD4sIGFycjI6IEFycmF5PFQ+KTogQXJyYXk8VD4ge1xuICBjb25zdCBzZXQxID0gbmV3IFNldChhcnIxKTtcbiAgY29uc3Qgc2V0MiA9IG5ldyBTZXQoYXJyMik7XG4gIGNvbnN0IGRpZmYgPSBuZXcgU2V0KEFycmF5LmZyb20oc2V0MSkuZmlsdGVyKHggPT4gIXNldDIuaGFzKHgpKSk7XG4gIHJldHVybiBBcnJheS5mcm9tKGRpZmYpO1xufVxuIiwiaW1wb3J0IGluaXQgZnJvbSBcInN0b3JrLXNlYXJjaFwiO1xuaW1wb3J0IFdhc21RdWV1ZSBmcm9tIFwiLi93YXNtUXVldWVcIjtcblxuY29uc3QgcHJvZCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIjtcblxuY29uc3Qgd2FzbVVybCA9IHByb2RcbiAgPyBcImh0dHBzOi8vZmlsZXMuc3Rvcmstc2VhcmNoLm5ldC9zdG9yay53YXNtXCJcbiAgOiBcImh0dHA6Ly8xMjcuMC4wLjE6ODAyNS9zdG9yay53YXNtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkV2FzbSgpOiBXYXNtUXVldWUge1xuICBjb25zdCBxdWV1ZSA9IG5ldyBXYXNtUXVldWUoKTtcbiAgaW5pdCh3YXNtVXJsKS50aGVuKCgpID0+IHtcbiAgICBxdWV1ZS5sb2FkZWQgPSB0cnVlO1xuICAgIHF1ZXVlLmhhbmRsZVdhc21Mb2FkKCk7XG4gIH0pO1xuICByZXR1cm4gcXVldWU7XG59XG4iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdHlcIjtcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24sIGNhbGN1bGF0ZU92ZXJyaWRkZW5Db25maWcgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IGxvYWRJbmRleEZyb21VcmwgfSBmcm9tIFwiLi9pbmRleExvYWRlclwiO1xuaW1wb3J0IHsgd2FzbV9yZWdpc3Rlcl9pbmRleCBhcyB3YXNtUmVnaXN0ZXJJbmRleCB9IGZyb20gXCJzdG9yay1zZWFyY2hcIjtcbmltcG9ydCBXYXNtUXVldWUgZnJvbSBcIi4vd2FzbVF1ZXVlXCI7XG5cbmV4cG9ydCBjbGFzcyBFbnRpdHlNYW5hZ2VyIHtcbiAgZW50aXRpZXM6IEFycmF5PEVudGl0eT4gPSBbXTtcbiAgd2FzbVF1ZXVlOiBXYXNtUXVldWU7XG5cbiAgY29uc3RydWN0b3Iod2FzbVF1ZXVlOiBXYXNtUXVldWUpIHtcbiAgICB0aGlzLndhc21RdWV1ZSA9IHdhc21RdWV1ZTtcbiAgfVxuXG4gIGhhbmRsZUxvYWRlZEluZGV4KGVudGl0eTogRW50aXR5LCBldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IHsgc3RhdHVzLCByZXNwb25zZSB9ID0gKGV2ZW50IGFzIFByb2dyZXNzRXZlbnQ8XG4gICAgICBYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0XG4gICAgPikudGFyZ2V0O1xuXG4gICAgaWYgKHN0YXR1cyA8IDIwMCB8fCBzdGF0dXMgPiAyOTkpIHtcbiAgICAgIGVudGl0eS5zZXREb3dubG9hZEVycm9yKCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCBhICR7c3RhdHVzfSBlcnJvciBmcm9tICR7ZW50aXR5LnVybH0hYCk7XG4gICAgfVxuXG4gICAgdGhpcy53YXNtUXVldWUucnVuQWZ0ZXJXYXNtTG9hZGVkKCgpID0+IHtcbiAgICAgIGlmICghZW50aXR5LmVycm9yKSB7XG4gICAgICAgIGNvbnN0IGluZGV4SW5mbyA9IHdhc21SZWdpc3RlckluZGV4KFxuICAgICAgICAgIGVudGl0eS5uYW1lLFxuICAgICAgICAgIG5ldyBVaW50OEFycmF5KHJlc3BvbnNlKVxuICAgICAgICApO1xuXG4gICAgICAgIGVudGl0eS5zZXREb3dubG9hZFByb2dyZXNzKDEpO1xuICAgICAgICBlbnRpdHkucGVyZm9ybVNlYXJjaChlbnRpdHkuZG9tTWFuYWdlci5nZXRRdWVyeSgpKTtcblxuICAgICAgICBpZiAoZW50aXR5LmNvbmZpZy5wcmludEluZGV4SW5mbykge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZS5sb2coe1xuICAgICAgICAgICAgbmFtZTogZW50aXR5Lm5hbWUsXG4gICAgICAgICAgICBzaXplSW5CeXRlczogcmVzcG9uc2UuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgIC4uLkpTT04ucGFyc2UoaW5kZXhJbmZvKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgcmVnaXN0ZXIoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHVybDogc3RyaW5nLFxuICAgIGNvbmZpZzogUGFydGlhbDxDb25maWd1cmF0aW9uPlxuICApOiB2b2lkIHtcbiAgICBjb25zdCBmdWxsQ29uZmlnID0gY2FsY3VsYXRlT3ZlcnJpZGRlbkNvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IGVudGl0eSA9IG5ldyBFbnRpdHkobmFtZSwgdXJsLCBmdWxsQ29uZmlnLCB0aGlzLndhc21RdWV1ZSk7XG4gICAgaWYgKHRoaXMuZW50aXRpZXMubGVuZ3RoIDwgMSkge1xuICAgICAgdGhpcy5lbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgfVxuXG4gICAgbG9hZEluZGV4RnJvbVVybChlbnRpdHksIHVybCwge1xuICAgICAgbG9hZDogZSA9PiB0aGlzLmhhbmRsZUxvYWRlZEluZGV4KGVudGl0eSwgZSksXG4gICAgICBwcm9ncmVzczogKHByb2dyZXNzLCBlbnRpdHkpID0+IHtcbiAgICAgICAgZW50aXR5LnNldERvd25sb2FkUHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiAoKSA9PiB7XG4gICAgICAgIGVudGl0eS5zZXREb3dubG9hZEVycm9yKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5cbmltcG9ydCB7IGFzc2VydCwgZGlmZmVyZW5jZSB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IGRlZmF1bHRDb25maWcgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IGxvYWRXYXNtIH0gZnJvbSBcIi4vd2FzbUxvYWRlclwiO1xuaW1wb3J0IHsgRW50aXR5TWFuYWdlciB9IGZyb20gXCIuL2VudGl0eU1hbmFnZXJcIjtcblxuY29uc3Qgd2FzbVF1ZXVlID0gbG9hZFdhc20oKTtcbmNvbnN0IGVudGl0eU1hbmFnZXIgPSBuZXcgRW50aXR5TWFuYWdlcih3YXNtUXVldWUpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgdXJsLCBjb25maWcgPSB7fSkge1xuICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCByZWdpc3RyYXRpb24gbmFtZSBtdXN0IGJlIGEgc3RyaW5nLlwiKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVVJMIG11c3QgYmUgYSBzdHJpbmcuXCIpO1xuICB9XG5cbiAgbGV0IGNvbmZpZ0tleURpZmYgPSBkaWZmZXJlbmNlKFxuICAgIE9iamVjdC5rZXlzKGNvbmZpZyksXG4gICAgT2JqZWN0LmtleXMoZGVmYXVsdENvbmZpZylcbiAgKTtcbiAgaWYgKGNvbmZpZ0tleURpZmYuc2l6ZSA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgSW52YWxpZCBrZXkke1xuICAgICAgICBjb25maWdLZXlEaWZmID4gMSA/IFwic1wiIDogXCJcIlxuICAgICAgfSBpbiBjb25maWcgb2JqZWN0OiAke0pTT04uc3RyaW5naWZ5KEFycmF5LmZyb20oY29uZmlnS2V5RGlmZikpfWBcbiAgICApO1xuICB9XG5cbiAgZW50aXR5TWFuYWdlci5yZWdpc3RlcihuYW1lLCB1cmwsIGNvbmZpZyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXJcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBXYXNtUXVldWUge1xuICBsb2FkZWQgPSBmYWxzZTtcbiAgcXVldWU6IHsgKCk6IHZvaWQgfVtdID0gW107XG5cbiAgcnVuQWZ0ZXJXYXNtTG9hZGVkKGZuOiB7ICgpOiB2b2lkOyAoKTogdm9pZCB9KTogdm9pZCB7XG4gICAgaWYgKHRoaXMubG9hZGVkKSB7XG4gICAgICBmbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXVlLnB1c2goZm4pO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVdhc21Mb2FkKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgZm4gb2YgdGhpcy5xdWV1ZSkge1xuICAgICAgZm4oKTtcbiAgICB9XG5cbiAgICB0aGlzLnF1ZXVlID0gW107XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IFJlc3VsdCwgU2VhcmNoRGF0YSwgcmVzb2x2ZVNlYXJjaCB9IGZyb20gXCIuL3NlYXJjaERhdGFcIjtcbmltcG9ydCBXYXNtUXVldWUgZnJvbSBcIi4vd2FzbVF1ZXVlXCI7XG5pbXBvcnQgeyBFbnRpdHlEb20sIFJlbmRlclN0YXRlIH0gZnJvbSBcIi4vZW50aXR5RG9tXCI7XG5cbmV4cG9ydCBjbGFzcyBFbnRpdHkge1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHVybDogc3RyaW5nO1xuICByZWFkb25seSBjb25maWc6IENvbmZpZ3VyYXRpb247XG4gIHJlYWRvbmx5IHdhc21RdWV1ZTogV2FzbVF1ZXVlO1xuICByZWFkb25seSBkb21NYW5hZ2VyOiBFbnRpdHlEb207XG5cbiAgaW5kZXg6IFVpbnQ4QXJyYXk7XG4gIHJlc3VsdHM6IEFycmF5PFJlc3VsdD4gPSBbXTtcbiAgaGlnaGxpZ2h0ZWRSZXN1bHQgPSAwO1xuICBwcm9ncmVzcyA9IDA7XG4gIGVycm9yID0gZmFsc2U7XG4gIHRvdGFsUmVzdWx0Q291bnQgPSAwO1xuICByZXN1bHRzVmlzaWJsZSA9IGZhbHNlO1xuICBob3ZlclNlbGVjdEVuYWJsZWQgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB1cmw6IHN0cmluZyxcbiAgICBjb25maWc6IENvbmZpZ3VyYXRpb24sXG4gICAgd2FzbVF1ZXVlOiBXYXNtUXVldWVcbiAgKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLndhc21RdWV1ZSA9IHdhc21RdWV1ZTtcblxuICAgIHRoaXMuZG9tTWFuYWdlciA9IG5ldyBFbnRpdHlEb20obmFtZSwgdGhpcyk7XG4gIH1cblxuICBwcml2YXRlIGdldEN1cnJlbnRNZXNzYWdlKCk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5kb21NYW5hZ2VyLmdldFF1ZXJ5KCk7XG4gICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgIHJldHVybiBcIkVycm9yISBDaGVjayB0aGUgYnJvd3NlciBjb25zb2xlLlwiO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9ncmVzcyA8IDEgfHwgIXRoaXMud2FzbVF1ZXVlLmxvYWRlZCkge1xuICAgICAgcmV0dXJuIFwiTG9hZGluZy4uLlwiO1xuICAgIH0gZWxzZSBpZiAocXVlcnk/Lmxlbmd0aCA8IHRoaXMuY29uZmlnLm1pbmltdW1RdWVyeUxlbmd0aCkge1xuICAgICAgcmV0dXJuIFwiRmlsdGVyaW5nLi4uXCI7XG4gICAgfSBlbHNlIGlmICh0aGlzLnJlc3VsdHMpIHtcbiAgICAgIGlmICh0aGlzLnRvdGFsUmVzdWx0Q291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFwiTm8gZmlsZXMgZm91bmQuXCI7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudG90YWxSZXN1bHRDb3VudCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gXCIxIGZpbGUgZm91bmQuXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy50b3RhbFJlc3VsdENvdW50fSBmaWxlcyBmb3VuZC5gO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVJlbmRlckNvbmZpZygpOiBSZW5kZXJTdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdHM6IHRoaXMucmVzdWx0cyxcbiAgICAgIHJlc3VsdHNWaXNpYmxlOiB0cnVlLFxuICAgICAgc2hvd1Njb3JlczogdGhpcy5jb25maWcuc2hvd1Njb3JlcyxcbiAgICAgIG1lc3NhZ2U6IHRoaXMuZ2V0Q3VycmVudE1lc3NhZ2UoKSxcbiAgICAgIHNob3dQcm9ncmVzczogdGhpcy5jb25maWcuc2hvd1Byb2dyZXNzLFxuICAgICAgcHJvZ3Jlc3M6IHRoaXMucHJvZ3Jlc3MsXG4gICAgICBlcnJvcjogdGhpcy5lcnJvclxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcigpIHtcbiAgICB0aGlzLmRvbU1hbmFnZXIucmVuZGVyKHRoaXMuZ2VuZXJhdGVSZW5kZXJDb25maWcoKSk7XG4gIH1cblxuICBpbmplc3RTZWFyY2hEYXRhKGRhdGE6IFNlYXJjaERhdGEpOiB2b2lkIHtcbiAgICB0aGlzLnJlc3VsdHMgPSBkYXRhLnJlc3VsdHM7XG4gICAgdGhpcy50b3RhbFJlc3VsdENvdW50ID0gZGF0YS50b3RhbF9oaXRfY291bnQ7XG4gICAgdGhpcy5oaWdobGlnaHRlZFJlc3VsdCA9IDA7XG5cbiAgICAvLyBNdXRhdGUgdGhlIHJlc3VsdCBVUkwsIGxpa2Ugd2UgZG8gd2hlbiB0aGVyZSdzIGEgdXJsIHByZWZpeCBvciBzdWZmaXhcbiAgICBjb25zdCB1cmxQcmVmaXggPSBkYXRhLnVybF9wcmVmaXggfHwgXCJcIjtcbiAgICB0aGlzLnJlc3VsdHMubWFwKHIgPT4ge1xuICAgICAgbGV0IHVybFN1ZmZpeCA9IFwiXCI7XG5cbiAgICAgIC8vIG9vZlxuICAgICAgaWYgKFxuICAgICAgICByLmV4Y2VycHRzICYmXG4gICAgICAgIHIuZXhjZXJwdHNbMF0gJiZcbiAgICAgICAgci5leGNlcnB0c1swXS5pbnRlcm5hbF9hbm5vdGF0aW9ucyAmJlxuICAgICAgICByLmV4Y2VycHRzWzBdLmludGVybmFsX2Fubm90YXRpb25zWzBdICYmXG4gICAgICAgIHIuZXhjZXJwdHNbMF0uaW50ZXJuYWxfYW5ub3RhdGlvbnNbMF1bXCJhXCJdICYmXG4gICAgICAgIHR5cGVvZiByLmV4Y2VycHRzWzBdLmludGVybmFsX2Fubm90YXRpb25zWzBdW1wiYVwiXSA9PT0gXCJzdHJpbmdcIlxuICAgICAgKSB7XG4gICAgICAgIHVybFN1ZmZpeCA9IHIuZXhjZXJwdHNbMF0uaW50ZXJuYWxfYW5ub3RhdGlvbnNbMF1bXCJhXCJdO1xuICAgICAgfVxuICAgICAgci5lbnRyeS51cmwgPSBgJHt1cmxQcmVmaXh9JHtyLmVudHJ5LnVybH0ke3VybFN1ZmZpeH1gO1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2FuaXRpemVkUmVzdWx0cygpIHtcbiAgICBjb25zdCByZXN1bHRzID0gdGhpcy5yZXN1bHRzO1xuICAgIHJlc3VsdHMubWFwKHJlc3VsdCA9PiB7XG4gICAgICBkZWxldGUgcmVzdWx0LnRpdGxlX2hpZ2hsaWdodF9yYW5nZXM7XG4gICAgICByZXN1bHQuZXhjZXJwdHMubWFwKGV4Y2VycHQgPT4ge1xuICAgICAgICBkZWxldGUgZXhjZXJwdC5oaWdobGlnaHRfcmFuZ2VzO1xuICAgICAgICBkZWxldGUgZXhjZXJwdC5pbnRlcm5hbF9hbm5vdGF0aW9ucztcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgc2V0RG93bmxvYWRQcm9ncmVzcyhwZXJjZW50YWdlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmVycm9yID0gZmFsc2U7XG4gICAgdGhpcy5wcm9ncmVzcyA9IHBlcmNlbnRhZ2U7XG4gICAgaWYgKHRoaXMuY29uZmlnLnNob3dQcm9ncmVzcykge1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gIH1cblxuICBzZXREb3dubG9hZEVycm9yKCk6IHZvaWQge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSAxO1xuICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBwZXJmb3JtU2VhcmNoKHF1ZXJ5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMud2FzbVF1ZXVlLmxvYWRlZCB8fCB0aGlzLmVycm9yKSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChxdWVyeS5sZW5ndGggPj0gdGhpcy5jb25maWcubWluaW11bVF1ZXJ5TGVuZ3RoKSB7XG4gICAgICByZXNvbHZlU2VhcmNoKHRoaXMubmFtZSwgcXVlcnkpXG4gICAgICAgIC50aGVuKChkYXRhOiBTZWFyY2hEYXRhKSA9PiB7XG4gICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG5cbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJERVZFTE9QTUVOVDpcIiwgZGF0YSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5pbmplc3RTZWFyY2hEYXRhKGRhdGEpO1xuXG4gICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm9uUXVlcnlVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm9uUXVlcnlVcGRhdGUocXVlcnksIHRoaXMuZ2V0U2FuaXRpemVkUmVzdWx0cygpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXN1bHRzID0gW107XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgd2FzbV9zZWFyY2ggfSBmcm9tIFwic3Rvcmstc2VhcmNoXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGlnaGxpZ2h0UmFuZ2Uge1xuICBiZWdpbm5pbmc6IG51bWJlcjtcbiAgZW5kOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50cnkge1xuICBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICB0aXRsZTogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFeGNlcnB0IHtcbiAgZmllbGRzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgaW50ZXJuYWxfYW5ub3RhdGlvbnM/OiBBcnJheTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj47XG4gIGhpZ2hsaWdodF9yYW5nZXM/OiBBcnJheTxIaWdobGlnaHRSYW5nZT47XG4gIHNjb3JlOiBudW1iZXI7XG4gIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXN1bHQge1xuICBlbnRyeTogRW50cnk7XG4gIGV4Y2VycHRzOiBBcnJheTxFeGNlcnB0PjtcbiAgc2NvcmU6IG51bWJlcjtcbiAgdGl0bGVfaGlnaGxpZ2h0X3Jhbmdlcz86IEFycmF5PG51bWJlcj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoRGF0YSB7XG4gIHJlc3VsdHM6IEFycmF5PFJlc3VsdD47XG4gIHRvdGFsX2hpdF9jb3VudDogbnVtYmVyO1xuICB1cmxfcHJlZml4OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNvbHZlU2VhcmNoKFxuICBuYW1lOiBzdHJpbmcsXG4gIHF1ZXJ5OiBzdHJpbmdcbik6IFByb21pc2U8U2VhcmNoRGF0YT4ge1xuICBsZXQgc2VhcmNoT3V0cHV0ID0gbnVsbDtcbiAgbGV0IGRhdGEgPSBudWxsO1xuXG4gIHRyeSB7XG4gICAgc2VhcmNoT3V0cHV0ID0gd2FzbV9zZWFyY2gobmFtZSwgcXVlcnkpO1xuICAgIC8vIElmIHdhc21fc2VhcmNoIHJldHVybnMgYW4gZXJyb3IsIGl0IHdpbGwgcmV0dXJuIGEgSlNPTiBibG9iLiBMb29rIGZvclxuICAgIC8vIGRhdGEuZXJyb3IgdG8gc2VlIGlmIHRoaXMgaXMgdGhlIGNhc2UuXG4gICAgZGF0YSA9IEpTT04ucGFyc2Uoc2VhcmNoT3V0cHV0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIERhdGEgaGFzIGNvbWUgYmFjayBpbXByb3Blcmx5LCBldmVuIGJleW9uZCBhbiBlcnJvciBpbiBSdXN0LWxhbmQuXG4gICAgLy8gYW5hbHl0aWNzLmxvZyhlKVxuICAgIHRocm93IEVycm9yKFxuICAgICAgXCJDb3VsZCBub3QgcGFyc2UgZGF0YSBmcm9tIHdhc21fc2VhcmNoLiBJZiB5b3Ugc2VlIHRoaXMsIHBsZWFzZSBmaWxlIGEgYnVnOiBodHRwczovL2ppbC5pbS9zdG9ya2J1ZyBcIiArXG4gICAgICAgIHNlYXJjaE91dHB1dFxuICAgICk7XG4gIH1cblxuICBpZiAoIWRhdGEpIHtcbiAgICB0aHJvdyBFcnJvcihcIkRhdGEgd2FzIGFuIGVtcHR5IG9iamVjdFwiKTtcbiAgfVxuXG4gIGlmIChkYXRhLmVycm9yKSB7XG4gICAgdGhyb3cgRXJyb3IoYENvdWxkIG5vdCBwZXJmb3JtIHNlYXJjaDogdGhlIFdBU00gYmluYXJ5IGZhaWxlZCB0byByZXR1cm4gc2VhcmNoIHJlc3VsdHMuXG4gICAgWW91IG1pZ2h0IG5vdCBiZSBzZXJ2aW5nIHlvdXIgc2VhcmNoIGluZGV4IHByb3Blcmx5LlxuICAgIElmIHlvdSB0aGluayB0aGlzIGlzIGFuIGVycm9yLCBwbGVhc2UgZmlsZSBhIGJ1ZzogaHR0cHM6Ly9qaWwuaW0vc3RvcmtidWdcbiAgICBcbiAgICBUaGUgV0FTTSBiaW5hcnkgY2FtZSBiYWNrIHdpdGg6XG4gICAgJHtkYXRhLmVycm9yfWApO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4iLCJpbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiLi9zZWFyY2hEYXRhXCI7XG5cbmltcG9ydCB7XG4gIGNyZWF0ZSxcbiAgYWRkLFxuICBjbGVhcixcbiAgc2V0VGV4dCxcbiAgZXhpc3RzQmV5b25kQ29udGFpbmVyQm91bmRzXG59IGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vZW50aXR5XCI7XG5pbXBvcnQgeyBMaXN0SXRlbURpc3BsYXlPcHRpb25zLCByZXN1bHRUb0xpc3RJdGVtIH0gZnJvbSBcIi4vcmVzdWx0VG9MaXN0SXRlbVwiO1xuXG5pbnRlcmZhY2UgRWxlbWVudE1hcCB7XG4gIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xuICBvdXRwdXQ6IEhUTUxEaXZFbGVtZW50O1xuICBwcm9ncmVzczogSFRNTEVsZW1lbnQ7XG4gIGxpc3Q6IEhUTUxFbGVtZW50O1xuICBtZXNzYWdlOiBIVE1MRWxlbWVudDtcbiAgYXR0cmlidXRpb246IEhUTUxFbGVtZW50O1xuICBjbG9zZUJ1dHRvbjogSFRNTEVsZW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyU3RhdGUge1xuICByZXN1bHRzOiBBcnJheTxSZXN1bHQ+O1xuICByZXN1bHRzVmlzaWJsZTogYm9vbGVhbjtcbiAgc2hvd1Njb3JlczogYm9vbGVhbjtcbiAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbDtcbiAgc2hvd1Byb2dyZXNzOiBib29sZWFuO1xuICBwcm9ncmVzczogbnVtYmVyIHwgbnVsbDtcbiAgZXJyb3I6IGJvb2xlYW47XG59XG5cbmNvbnN0IGhpZGRlbkludGVyZmFjZVJlbmRlclN0YXRlOiBSZW5kZXJTdGF0ZSA9IHtcbiAgcmVzdWx0czogW10sXG4gIHJlc3VsdHNWaXNpYmxlOiBmYWxzZSxcbiAgc2hvd1Njb3JlczogZmFsc2UsXG4gIG1lc3NhZ2U6IG51bGwsXG4gIHNob3dQcm9ncmVzczogZmFsc2UsXG4gIHByb2dyZXNzOiAxLFxuICBlcnJvcjogZmFsc2Vcbn07XG5cbmV4cG9ydCBjbGFzcyBFbnRpdHlEb20ge1xuICByZWFkb25seSBlbGVtZW50czogRWxlbWVudE1hcDtcbiAgcmVhZG9ubHkgZW50aXR5OiBFbnRpdHk7XG5cbiAgaGlnaGxpZ2h0ZWRSZXN1bHQ/OiBudW1iZXI7XG4gIGhvdmVyU2VsZWN0RW5hYmxlZDogYm9vbGVhbjtcbiAgbGFzdFJlbmRlclN0YXRlOiBSZW5kZXJTdGF0ZTtcblxuICBzY3JvbGxBbmNob3JQb2ludDogXCJzdGFydFwiIHwgXCJlbmRcIiA9IFwiZW5kXCI7XG5cbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBlbnRpdHk6IEVudGl0eSkge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgY29uc3QgZGF0YSA9IFtcbiAgICAgIHtcbiAgICAgICAgc2VsZWN0b3I6IGBpbnB1dFtkYXRhLXN0b3JrPVwiJHtuYW1lfVwiXWAsXG4gICAgICAgIGVsZW1lbnROYW1lOiBcImlucHV0XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHNlbGVjdG9yOiBgZGl2W2RhdGEtc3Rvcms9XCIke25hbWV9LW91dHB1dFwiXWAsXG4gICAgICAgIGVsZW1lbnROYW1lOiBcIm91dHB1dFwiXG4gICAgICB9XG4gICAgXTtcblxuICAgIGNvbnN0IFtpbnB1dCwgb3V0cHV0XSA9IGRhdGEubWFwKGQgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZC5zZWxlY3Rvcik7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDb3VsZCBub3QgcmVnaXN0ZXIgc2VhcmNoIGJveCBcIiR7bmFtZX1cIjogJHtkLmVsZW1lbnROYW1lfSBlbGVtZW50IG5vdCBmb3VuZC4gTWFrZSBzdXJlIGFuIGVsZW1lbnQgbWF0Y2hlcyB0aGUgcXVlcnkgc2VsZWN0b3IgXFxgJHtkLnNlbGVjdG9yfVxcYGBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSkgYXMgW0hUTUxJbnB1dEVsZW1lbnQsIEhUTUxEaXZFbGVtZW50XTtcblxuICAgIHRoaXMuZWxlbWVudHMgPSB7XG4gICAgICBpbnB1dDogaW5wdXQsXG4gICAgICBvdXRwdXQ6IG91dHB1dCxcbiAgICAgIGxpc3Q6IGNyZWF0ZShcInVsXCIsIHsgY2xhc3NOYW1lczogW1wic3RvcmstcmVzdWx0c1wiXSB9KSxcbiAgICAgIGF0dHJpYnV0aW9uOiBjcmVhdGUoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWVzOiBbXCJzdG9yay1hdHRyaWJ1dGlvblwiXVxuICAgICAgfSksXG4gICAgICBwcm9ncmVzczogY3JlYXRlKFwiZGl2XCIsIHsgY2xhc3NOYW1lczogW1wic3RvcmstcHJvZ3Jlc3NcIl0gfSksXG4gICAgICBtZXNzYWdlOiBjcmVhdGUoXCJkaXZcIiwgeyBjbGFzc05hbWVzOiBbXCJzdG9yay1tZXNzYWdlXCJdIH0pLFxuICAgICAgY2xvc2VCdXR0b246IGNyZWF0ZShcImJ1dHRvblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZXM6IFtcInN0b3JrLWNsb3NlLWJ1dHRvblwiXVxuICAgICAgfSlcbiAgICB9O1xuXG4gICAgdGhpcy5lbGVtZW50cy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUlucHV0RXZlbnQoZSBhcyBJbnB1dEV2ZW50KTtcbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudHMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUtleURvd25FdmVudChlIGFzIEtleWJvYXJkRXZlbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbGVtZW50cy5saXN0Py5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsICgpID0+IHtcbiAgICAgIHRoaXMuaG92ZXJTZWxlY3RFbmFibGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudHMuYXR0cmlidXRpb24uaW5uZXJIVE1MID1cbiAgICAgICdQb3dlcmVkIGJ5IDxhIGhyZWY9XCJodHRwczovL3N0b3JrLXNlYXJjaC5uZXRcIj5TdG9yazwvYT4nO1xuXG4gICAgc2V0VGV4dCh0aGlzLmVsZW1lbnRzLmNsb3NlQnV0dG9uLCBcIsOXXCIpO1xuXG4gICAgYWRkKHRoaXMuZWxlbWVudHMucHJvZ3Jlc3MsIFwiYWZ0ZXJlbmRcIiwgdGhpcy5lbGVtZW50cy5pbnB1dCk7XG5cbiAgICB0aGlzLmVsZW1lbnRzLmNsb3NlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50cy5pbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICB0aGlzLmVsZW1lbnRzLmlucHV0LmZvY3VzKCk7XG4gICAgICB0aGlzLnJlbmRlcihoaWRkZW5JbnRlcmZhY2VSZW5kZXJTdGF0ZSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNsZWFyRG9tKCkge1xuICAgIGNsZWFyKHRoaXMuZWxlbWVudHMub3V0cHV0KTtcbiAgICBjbGVhcih0aGlzLmVsZW1lbnRzLmxpc3QpO1xuICAgIHRoaXMuZWxlbWVudHMuY2xvc2VCdXR0b24/LnJlbW92ZSgpO1xuICAgIHRoaXMuZWxlbWVudHMub3V0cHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJzdG9yay1vdXRwdXQtdmlzaWJsZVwiKTtcbiAgfVxuXG4gIHJlbmRlcihzdGF0ZTogUmVuZGVyU3RhdGUpOiB2b2lkIHtcbiAgICBjb25zdCBxdWVyeSA9ICh0aGlzLmVsZW1lbnRzLmlucHV0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgIHRoaXMuY2xlYXJEb20oKTtcbiAgICB0aGlzLmxhc3RSZW5kZXJTdGF0ZSA9IHN0YXRlO1xuXG4gICAgaWYgKHN0YXRlLnNob3dQcm9ncmVzcyAmJiBzdGF0ZS5wcm9ncmVzcyAmJiBzdGF0ZS5wcm9ncmVzcyA8IDEpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMucHJvZ3Jlc3Muc3R5bGUud2lkdGggPSBgJHtzdGF0ZS5wcm9ncmVzcyAqIDEwMH0lYDtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLnNob3dQcm9ncmVzcykge1xuICAgICAgdGhpcy5lbGVtZW50cy5wcm9ncmVzcy5zdHlsZS53aWR0aCA9IGAxMDAlYDtcbiAgICAgIHRoaXMuZWxlbWVudHMucHJvZ3Jlc3Muc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5lcnJvcikge1xuICAgICAgdGhpcy5lbGVtZW50cy5pbnB1dC5jbGFzc0xpc3QuYWRkKFwic3RvcmstZXJyb3JcIik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0UXVlcnkoKS5sZW5ndGggPiAwICYmIHN0YXRlLnJlc3VsdHNWaXNpYmxlKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLm91dHB1dC5jbGFzc0xpc3QuYWRkKFwic3Rvcmstb3V0cHV0LXZpc2libGVcIik7XG4gICAgICBhZGQodGhpcy5lbGVtZW50cy5tZXNzYWdlLCBcImJlZm9yZWVuZFwiLCB0aGlzLmVsZW1lbnRzLm91dHB1dCk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLm1lc3NhZ2UpIHtcbiAgICAgIHNldFRleHQodGhpcy5lbGVtZW50cy5tZXNzYWdlLCBzdGF0ZS5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUucmVzdWx0cz8ubGVuZ3RoID4gMCAmJiBzdGF0ZS5yZXN1bHRzVmlzaWJsZSkge1xuICAgICAgYWRkKHRoaXMuZWxlbWVudHMubGlzdCwgXCJiZWZvcmVlbmRcIiwgdGhpcy5lbGVtZW50cy5vdXRwdXQpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRlLnJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3RhdGUucmVzdWx0c1tpXTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVPcHRpb25zOiBMaXN0SXRlbURpc3BsYXlPcHRpb25zID0ge1xuICAgICAgICAgIHNlbGVjdGVkOiBpID09PSB0aGlzLmhpZ2hsaWdodGVkUmVzdWx0LFxuICAgICAgICAgIHNob3dTY29yZXM6IHN0YXRlLnNob3dTY29yZXNcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBsaXN0SXRlbSA9IHJlc3VsdFRvTGlzdEl0ZW0ocmVzdWx0LCBnZW5lcmF0ZU9wdGlvbnMpO1xuICAgICAgICBhZGQobGlzdEl0ZW0gYXMgSFRNTEVsZW1lbnQsIFwiYmVmb3JlZW5kXCIsIHRoaXMuZWxlbWVudHMubGlzdCk7XG5cbiAgICAgICAgbGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaG92ZXJTZWxlY3RFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAoaSAhPT0gdGhpcy5oaWdobGlnaHRlZFJlc3VsdCkge1xuICAgICAgICAgICAgICB0aGlzLmNoYW5nZUhpZ2hsaWdodGVkUmVzdWx0KHsgdG86IGksIHNob3VsZFNjcm9sbFRvOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5zZWxlY3RSZXN1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGFkZCh0aGlzLmVsZW1lbnRzLmF0dHJpYnV0aW9uLCBcImJlZm9yZWVuZFwiLCB0aGlzLmVsZW1lbnRzLm91dHB1dCk7XG4gICAgfVxuXG4gICAgaWYgKChxdWVyeT8ubGVuZ3RoIHx8IDApID4gMCkge1xuICAgICAgYWRkKHRoaXMuZWxlbWVudHMuY2xvc2VCdXR0b24sIFwiYWZ0ZXJlbmRcIiwgdGhpcy5lbGVtZW50cy5pbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZWxlY3RSZXN1bHQoKSB7XG4gICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQgIT0gbnVsbCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5lbnRpdHkucmVzdWx0c1t0aGlzLmhpZ2hsaWdodGVkUmVzdWx0XTtcbiAgICAgIGlmICh0aGlzLmVudGl0eS5jb25maWcub25SZXN1bHRTZWxlY3RlZCkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgdGhpcy5lbnRpdHkuY29uZmlnLm9uUmVzdWx0U2VsZWN0ZWQodGhpcy5nZXRRdWVyeSgpLCByZXN1bHQpXG4gICAgICAgICkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihyZXN1bHQuZW50cnkudXJsKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKHJlc3VsdC5lbnRyeS51cmwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNoYW5nZUhpZ2hsaWdodGVkUmVzdWx0KG9wdGlvbnM6IHtcbiAgICB0bzogbnVtYmVyO1xuICAgIHNob3VsZFNjcm9sbFRvOiBib29sZWFuO1xuICB9KTogbnVtYmVyIHtcbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gdGhpcy5oaWdobGlnaHRlZFJlc3VsdDtcblxuICAgIGNvbnN0IHJlc29sdmVkSWR4ID0gTWF0aC5tYXgoXG4gICAgICAwLFxuICAgICAgTWF0aC5taW4odGhpcy5lbnRpdHkucmVzdWx0cy5sZW5ndGggLSAxLCBvcHRpb25zLnRvKVxuICAgICk7XG5cbiAgICB0aGlzLmhpZ2hsaWdodGVkUmVzdWx0ID0gcmVzb2x2ZWRJZHg7XG4gICAgdGhpcy5zY3JvbGxBbmNob3JQb2ludCA9XG4gICAgICAocHJldmlvdXNWYWx1ZSB8fCAwKSA8IHJlc29sdmVkSWR4ID8gXCJlbmRcIiA6IFwic3RhcnRcIjtcblxuICAgIGxldCB0YXJnZXRGb3JTY3JvbGxUbyA9IG51bGw7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW50aXR5LnJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzLmxpc3Q/LmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBoaWdobGlnaHRlZENsYXNzTmFtZSA9IFwic2VsZWN0ZWRcIjtcblxuICAgICAgaWYgKGkgPT0gcmVzb2x2ZWRJZHgpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGhpZ2hsaWdodGVkQ2xhc3NOYW1lKTtcbiAgICAgICAgdGFyZ2V0Rm9yU2Nyb2xsVG8gPSBlbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGhpZ2hsaWdodGVkQ2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1c2luZyBvcHRpb25zLmJ5IGFzIGEgcHJveHkgZm9yIGtleWJvYXJkIHNlbGVjdGlvblxuICAgIGlmIChvcHRpb25zLnNob3VsZFNjcm9sbFRvKSB7XG4gICAgICB0aGlzLmhvdmVyU2VsZWN0RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHRhcmdldEZvclNjcm9sbFRvKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBleGlzdHNCZXlvbmRDb250YWluZXJCb3VuZHMoXG4gICAgICAgICAgICB0YXJnZXRGb3JTY3JvbGxUbyBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMubGlzdFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgKHRhcmdldEZvclNjcm9sbFRvIGFzIEhUTUxFbGVtZW50KS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcbiAgICAgICAgICAgIGJsb2NrOiB0aGlzLnNjcm9sbEFuY2hvclBvaW50LFxuICAgICAgICAgICAgaW5saW5lOiBcIm5lYXJlc3RcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc29sdmVkSWR4O1xuICB9XG5cbiAgaGFuZGxlS2V5RG93bkV2ZW50KGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgVVAgPSAzODtcbiAgICBjb25zdCBET1dOID0gNDA7XG4gICAgY29uc3QgUkVUVVJOID0gMTM7XG4gICAgY29uc3QgRVNDID0gMjc7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgIGNhc2UgRE9XTjoge1xuICAgICAgICBpZiAodGhpcy5oaWdobGlnaHRlZFJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VIaWdobGlnaHRlZFJlc3VsdCh7IHRvOiAwLCBzaG91bGRTY3JvbGxUbzogdHJ1ZSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQgKyAxLFxuICAgICAgICAgICAgdGhpcy5lbnRpdHkucmVzdWx0cy5sZW5ndGggLSAxXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmNoYW5nZUhpZ2hsaWdodGVkUmVzdWx0KHsgdG86IHRhcmdldCwgc2hvdWxkU2Nyb2xsVG86IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgVVA6IHtcbiAgICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IE1hdGgubWF4KDAsIHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQgLSAxKTtcbiAgICAgICAgICB0aGlzLmNoYW5nZUhpZ2hsaWdodGVkUmVzdWx0KHsgdG86IHRhcmdldCwgc2hvdWxkU2Nyb2xsVG86IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgUkVUVVJOOlxuICAgICAgICB0aGlzLnNlbGVjdFJlc3VsdCgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBFU0M6XG4gICAgICAgIGlmICghdGhpcy5sYXN0UmVuZGVyU3RhdGUucmVzdWx0c1Zpc2libGUpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLmlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcihoaWRkZW5JbnRlcmZhY2VSZW5kZXJTdGF0ZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlSW5wdXRFdmVudChldmVudDogSW5wdXRFdmVudCk6IHZvaWQge1xuICAgIHRoaXMuZW50aXR5LnBlcmZvcm1TZWFyY2goKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG4gIH1cblxuICBnZXRRdWVyeSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAodGhpcy5lbGVtZW50cy5pbnB1dCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShcbiAgbmFtZTogc3RyaW5nLFxuICBhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBBcnJheTxzdHJpbmc+PlxuKTogSFRNTEVsZW1lbnQge1xuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbiAgaWYgKGF0dHJpYnV0ZXMuY2xhc3NOYW1lcykge1xuICAgIGVsZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgYXR0cmlidXRlcy5jbGFzc05hbWVzLmpvaW4oXCIgXCIpKTtcbiAgfVxuICByZXR1cm4gZWxlbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChcbiAgZWxlbTogSFRNTEVsZW1lbnQsXG4gIGxvY2F0aW9uOiBJbnNlcnRQb3NpdGlvbixcbiAgcmVmZXJlbmNlOiBIVE1MRWxlbWVudFxuKTogdm9pZCB7XG4gIHJlZmVyZW5jZS5pbnNlcnRBZGphY2VudEVsZW1lbnQobG9jYXRpb24sIGVsZW0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoZWxlbTogSFRNTEVsZW1lbnQgfCBudWxsKTogdm9pZCB7XG4gIHdoaWxlIChlbGVtICYmIGVsZW0uZmlyc3RDaGlsZCkge1xuICAgIGVsZW0ucmVtb3ZlQ2hpbGQoZWxlbS5maXJzdENoaWxkKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VGV4dChlbGVtOiBIVE1MRWxlbWVudCB8IG51bGwsIHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpO1xuICBpZiAoZWxlbSAmJiBlbGVtLmZpcnN0Q2hpbGQpIHtcbiAgICBlbGVtLnJlcGxhY2VDaGlsZCh0ZXh0Tm9kZSwgZWxlbS5maXJzdENoaWxkKTtcbiAgfSBlbHNlIGlmIChlbGVtKSB7XG4gICAgZWxlbS5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4aXN0c0JleW9uZENvbnRhaW5lckJvdW5kcyhcbiAgZWxlbTogSFRNTEVsZW1lbnQsXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcbik6IGJvb2xlYW4ge1xuICBjb25zdCBlbGVtQm91bmRpbmdCb3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBjb250YWluZXJCb3VuZGluZ0JveCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICByZXR1cm4gKFxuICAgIGVsZW1Cb3VuZGluZ0JveC5ib3R0b20gPiBjb250YWluZXJCb3VuZGluZ0JveC5ib3R0b20gfHxcbiAgICBlbGVtQm91bmRpbmdCb3gudG9wIDwgY29udGFpbmVyQm91bmRpbmdCb3gudG9wXG4gICk7XG59XG4iLCJpbXBvcnQgeyBoaWdobGlnaHQgfSBmcm9tIFwiLi9wZW5jaWxcIjtcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gXCIuL3NlYXJjaERhdGFcIjtcblxuZXhwb3J0IGludGVyZmFjZSBMaXN0SXRlbURpc3BsYXlPcHRpb25zIHtcbiAgc2VsZWN0ZWQ6IGJvb2xlYW47XG4gIHNob3dTY29yZXM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXN1bHRUb0xpc3RJdGVtKFxuICByZXN1bHQ6IFJlc3VsdCxcbiAgb3B0aW9uczogTGlzdEl0ZW1EaXNwbGF5T3B0aW9uc1xuKTogQ2hpbGROb2RlIHtcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IGBcbjxsaSBjbGFzcz1cInN0b3JrLXJlc3VsdCR7b3B0aW9ucy5zZWxlY3RlZCA/IFwiIHNlbGVjdGVkXCIgOiBcIlwifVwiPlxuICA8YSBocmVmPVwiJHtyZXN1bHQuZW50cnkudXJsfVwiPlxuICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW5cIj5cbiAgICAgIDxwIGNsYXNzPVwic3RvcmstdGl0bGVcIj4ke2hpZ2hsaWdodChcbiAgICAgICAgcmVzdWx0LmVudHJ5LnRpdGxlLFxuICAgICAgICByZXN1bHQudGl0bGVfaGlnaGxpZ2h0X3Jhbmdlc1xuICAgICAgKX08L3A+XG4gICAgICAke29wdGlvbnMuc2hvd1Njb3JlcyA/IGA8Y29kZT48Yj4ke3Jlc3VsdC5zY29yZX08L2I+PC9jb2RlPmAgOiBcIlwifVxuICAgIDwvZGl2PlxuICAgICAgJHtyZXN1bHQuZXhjZXJwdHNcbiAgICAgICAgLm1hcChcbiAgICAgICAgICBlID0+IGA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuXCI+PHAgY2xhc3M9XCJzdG9yay1leGNlcnB0XCI+XG4gICAgICAgIC4uLiR7aGlnaGxpZ2h0KGUudGV4dCwgZS5oaWdobGlnaHRfcmFuZ2VzKX0uLi5cbiAgICAgICAgPC9wPlxuICAgICAgICAke29wdGlvbnMuc2hvd1Njb3JlcyA/IGA8Y29kZT4ke2Uuc2NvcmV9PC9jb2RlPmAgOiBcIlwifVxuICAgICAgICA8L2Rpdj5gXG4gICAgICAgIClcbiAgICAgICAgLmpvaW4oXCJcIil9XG4gIDwvYT5cbjwvbGk+YDtcbiAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQgYXMgQ2hpbGROb2RlO1xufVxuIiwiLy8gSXQncyBsaWtlIEhhbmRsZWJhcnMsIGJ1dCBzbWFsbGVyLlxuXG5leHBvcnQgZnVuY3Rpb24gaGlnaGxpZ2h0KHRleHQsIGhpZ2hsaWdodF9yYW5nZXMpIHtcbiAgZnVuY3Rpb24gaW5zZXJ0KHN0ciwgaW5kZXgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgaW5kZXgpICsgdmFsdWUgKyBzdHIuc3Vic3RyKGluZGV4KTtcbiAgfVxuXG4gIHZhciBjaGFyYWN0ZXJzQWxyZWFkeUFkZGVkID0gMDtcblxuICBmb3IgKGxldCByYW5nZSBvZiBoaWdobGlnaHRfcmFuZ2VzKSB7XG4gICAgbGV0IGJlZ2lubmluZ0luc2VydGlvbiA9IGA8c3BhbiBjbGFzcz1cInN0b3JrLWhpZ2hsaWdodFwiPmA7XG4gICAgbGV0IGVuZEluc2VydGlvbiA9IGA8L3NwYW4+YDtcblxuICAgIHRleHQgPSBpbnNlcnQoXG4gICAgICB0ZXh0LFxuICAgICAgcmFuZ2UuYmVnaW5uaW5nICsgY2hhcmFjdGVyc0FscmVhZHlBZGRlZCxcbiAgICAgIGJlZ2lubmluZ0luc2VydGlvblxuICAgICk7XG4gICAgY2hhcmFjdGVyc0FscmVhZHlBZGRlZCArPSBiZWdpbm5pbmdJbnNlcnRpb24ubGVuZ3RoO1xuXG4gICAgdGV4dCA9IGluc2VydCh0ZXh0LCByYW5nZS5lbmQgKyBjaGFyYWN0ZXJzQWxyZWFkeUFkZGVkLCBlbmRJbnNlcnRpb24pO1xuICAgIGNoYXJhY3RlcnNBbHJlYWR5QWRkZWQgKz0gZW5kSW5zZXJ0aW9uLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiB0ZXh0O1xufVxuIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vZW50aXR5XCI7XG5cbmludGVyZmFjZSBJbmRleExvYWRlckNhbGxiYWNrcyB7XG4gIGxvYWQ6IChldmVudDogRXZlbnQsIGVudGl0eTogRW50aXR5KSA9PiB2b2lkO1xuICBwcm9ncmVzczogKHBlcmNlbnRhZ2U6IG51bWJlciwgZW50aXR5OiBFbnRpdHkpID0+IHZvaWQ7XG4gIGVycm9yOiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBGQUtFX1BST0dSRVNTX0JVTVBfT05fU1RBUlQgPSAwLjAzO1xuY29uc3QgUFJPR1JFU1NfU0hPV0lOR19JTkRFWF9OT1RfWUVUX1JFR0lTVEVSRUQgPSAwLjk0O1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEluZGV4RnJvbVVybChcbiAgZW50aXR5OiBFbnRpdHksXG4gIHVybDogc3RyaW5nLFxuICBjYWxsYmFja3M6IEluZGV4TG9hZGVyQ2FsbGJhY2tzXG4pOiB2b2lkIHtcbiAgY29uc3QgciA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gIHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZSA9PiB7XG4gICAgLy8gVGhpcyBnZXRzIGNhbGxlZCBldmVuIGlmIHdlIGdldCBhIDQwNCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIhXG4gICAgaWYgKGNhbGxiYWNrcy5sb2FkKSB7XG4gICAgICBjYWxsYmFja3MubG9hZChlLCBlbnRpdHkpO1xuICAgIH1cbiAgfSk7XG5cbiAgci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBmZXRjaCAke3VybH1gKTtcbiAgICBjYWxsYmFja3MuZXJyb3IoKTtcbiAgfSk7XG5cbiAgci5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIiwgZSA9PiB7XG4gICAgaWYgKGNhbGxiYWNrcy5wcm9ncmVzcykge1xuICAgICAgY29uc3QgbG9hZGVkUGVyY2VudGFnZSA9IE1hdGgubWluKFxuICAgICAgICBNYXRoLm1heChGQUtFX1BST0dSRVNTX0JVTVBfT05fU1RBUlQsIGUubG9hZGVkIC8gZS50b3RhbCksXG4gICAgICAgIFBST0dSRVNTX1NIT1dJTkdfSU5ERVhfTk9UX1lFVF9SRUdJU1RFUkVEXG4gICAgICApO1xuICAgICAgY2FsbGJhY2tzLnByb2dyZXNzKGxvYWRlZFBlcmNlbnRhZ2UsIGVudGl0eSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoY2FsbGJhY2tzLnByb2dyZXNzKSB7XG4gICAgY2FsbGJhY2tzLnByb2dyZXNzKEZBS0VfUFJPR1JFU1NfQlVNUF9PTl9TVEFSVCwgZW50aXR5KTtcbiAgfVxuXG4gIHIucmVzcG9uc2VUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuICByLm9wZW4oXCJHRVRcIiwgdXJsKTtcbiAgci5zZW5kKCk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9
